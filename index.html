<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React App</title>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>

 <script data-is-stage="true">
  !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SDK=t():e.SDK=t()}(this,()=>(()=>{var e={19:function(e,t,n){e.exports=function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return Gp}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})}function i(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function s(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var a="4.6.2";function c(e,t){return new Promise(function(n){return setTimeout(n,e,t)})}function u(e){return!!e&&"function"==typeof e.then}function l(e,t){try{var n=e();u(n)?n.then(function(e){return t(!0,e)},function(e){return t(!1,e)}):t(!0,n)}catch(e){t(!1,e)}}function d(e,t,n){return void 0===n&&(n=16),o(this,void 0,void 0,function(){var r,o,s,a;return i(this,function(i){switch(i.label){case 0:r=Array(e.length),o=Date.now(),s=0,i.label=1;case 1:return s<e.length?(r[s]=t(e[s],s),(a=Date.now())>=o+n?(o=a,[4,new Promise(function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})]):[3,3]):[3,4];case 2:i.sent(),i.label=3;case 3:return++s,[3,1];case 4:return[2,r]}})})}function p(e){return e.then(void 0,function(){}),e}function h(e){return parseInt(e)}function f(e){return parseFloat(e)}function m(e,t){return"number"==typeof e&&isNaN(e)?t:e}function g(e){return e.reduce(function(e,t){return e+(t?1:0)},0)}function y(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function v(e,t){var n=e[0]>>>16,r=65535&e[0],o=e[1]>>>16,i=65535&e[1],s=t[0]>>>16,a=65535&t[0],c=t[1]>>>16,u=0,l=0,d=0,p=0;d+=(p+=i+(65535&t[1]))>>>16,p&=65535,l+=(d+=o+c)>>>16,d&=65535,u+=(l+=r+a)>>>16,l&=65535,u+=n+s,u&=65535,e[0]=u<<16|l,e[1]=d<<16|p}function _(e,t){var n=e[0]>>>16,r=65535&e[0],o=e[1]>>>16,i=65535&e[1],s=t[0]>>>16,a=65535&t[0],c=t[1]>>>16,u=65535&t[1],l=0,d=0,p=0,h=0;p+=(h+=i*u)>>>16,h&=65535,d+=(p+=o*u)>>>16,p&=65535,d+=(p+=i*c)>>>16,p&=65535,l+=(d+=r*u)>>>16,d&=65535,l+=(d+=o*c)>>>16,d&=65535,l+=(d+=i*a)>>>16,d&=65535,l+=n*u+r*c+o*a+i*s,l&=65535,e[0]=l<<16|d,e[1]=p<<16|h}function b(e,t){var n=e[0];32==(t%=64)?(e[0]=e[1],e[1]=n):t<32?(e[0]=n<<t|e[1]>>>32-t,e[1]=e[1]<<t|n>>>32-t):(t-=32,e[0]=e[1]<<t|n>>>32-t,e[1]=n<<t|e[1]>>>32-t)}function S(e,t){0!=(t%=64)&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function w(e,t){e[0]^=t[0],e[1]^=t[1]}var k=[4283543511,3981806797],E=[3301882366,444984403];function x(e){var t=[0,e[0]>>>1];w(e,t),_(e,k),t[1]=e[0]>>>1,w(e,t),_(e,E),t[1]=e[0]>>>1,w(e,t)}var I=[2277735313,289559509],T=[1291169091,658871167],C=[0,5],M=[0,1390208809],R=[0,944331445];function L(e,t){var n=function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>127)return(new TextEncoder).encode(e);t[n]=r}return t}(e);t=t||0;var r,o=[0,n.length],i=o[1]%16,s=o[1]-i,a=[0,t],c=[0,t],u=[0,0],l=[0,0];for(r=0;r<s;r+=16)u[0]=n[r+4]|n[r+5]<<8|n[r+6]<<16|n[r+7]<<24,u[1]=n[r]|n[r+1]<<8|n[r+2]<<16|n[r+3]<<24,l[0]=n[r+12]|n[r+13]<<8|n[r+14]<<16|n[r+15]<<24,l[1]=n[r+8]|n[r+9]<<8|n[r+10]<<16|n[r+11]<<24,_(u,I),b(u,31),_(u,T),w(a,u),b(a,27),v(a,c),_(a,C),v(a,M),_(l,T),b(l,33),_(l,I),w(c,l),b(c,31),v(c,a),_(c,C),v(c,R);u[0]=0,u[1]=0,l[0]=0,l[1]=0;var d=[0,0];switch(i){case 15:d[1]=n[r+14],S(d,48),w(l,d);case 14:d[1]=n[r+13],S(d,40),w(l,d);case 13:d[1]=n[r+12],S(d,32),w(l,d);case 12:d[1]=n[r+11],S(d,24),w(l,d);case 11:d[1]=n[r+10],S(d,16),w(l,d);case 10:d[1]=n[r+9],S(d,8),w(l,d);case 9:d[1]=n[r+8],w(l,d),_(l,T),b(l,33),_(l,I),w(c,l);case 8:d[1]=n[r+7],S(d,56),w(u,d);case 7:d[1]=n[r+6],S(d,48),w(u,d);case 6:d[1]=n[r+5],S(d,40),w(u,d);case 5:d[1]=n[r+4],S(d,32),w(u,d);case 4:d[1]=n[r+3],S(d,24),w(u,d);case 3:d[1]=n[r+2],S(d,16),w(u,d);case 2:d[1]=n[r+1],S(d,8),w(u,d);case 1:d[1]=n[r],w(u,d),_(u,I),b(u,31),_(u,T),w(a,u)}return w(a,o),w(c,o),v(a,c),v(c,a),x(a),x(c),v(a,c),v(c,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)}function O(e){return"function"!=typeof e}function A(e,t,n,r){var s=Object.keys(e).filter(function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,e)}),a=p(d(s,function(n){return function(e,t){var n=p(new Promise(function(n){var r=Date.now();l(e.bind(null,t),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Date.now()-r;if(!e[0])return n(function(){return{error:e[1],duration:o}});var i=e[1];if(O(i))return n(function(){return{value:i,duration:o}});n(function(){return new Promise(function(e){var t=Date.now();l(i,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=o+Date.now()-t;if(!n[0])return e({error:n[1],duration:i});e({value:n[1],duration:i})})})})})}));return function(){return n.then(function(e){return e()})}}(e[n],t)},r));return function(){return o(this,void 0,void 0,function(){var e,t,n,o;return i(this,function(i){switch(i.label){case 0:return[4,a];case 1:return[4,d(i.sent(),function(e){return p(e())},r)];case 2:return e=i.sent(),[4,Promise.all(e)];case 3:for(t=i.sent(),n={},o=0;o<s.length;++o)n[s[o]]=t[o];return[2,n]}})})}}function D(){var e=window,t=navigator;return g(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function N(){var e=window,t=navigator;return g(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===(t.vendor||"").indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function P(){var e=window;return g(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===navigator.vendor.indexOf("Apple"),"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function F(){var e=window,t=e.HTMLElement,n=e.Document;return g(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),n&&"pointerLockElement"in n.prototype])>=4}function j(){var e,t=window;return e=t.print,/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))&&"[object WebPageNamespace]"===String(t.browser)}function B(){var e,t,n=window;return g(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function $(){var e=window,t=navigator,n=e.CSS,r=e.HTMLButtonElement;return g([!("getStorageUpdates"in t),r&&"popover"in r.prototype,"CSSCounterStyleRule"in e,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function W(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function U(){var e=N(),t=B(),n=window,r=navigator,o="connection";return e?g([!("SharedWorker"in n),r[o]&&"ontypechange"in r[o],!("sinkId"in new Audio)])>=2:!!t&&g(["onorientationchange"in n,"orientation"in n,/android/i.test(r.appVersion)])>=2}function z(e){var t=new Error(e);return t.name=e,t}function H(e,t,n){var r,s,a;return void 0===n&&(n=50),o(this,void 0,void 0,function(){var o,u;return i(this,function(i){switch(i.label){case 0:o=document,i.label=1;case 1:return o.body?[3,3]:[4,c(n)];case 2:return i.sent(),[3,1];case 3:u=o.createElement("iframe"),i.label=4;case 4:return i.trys.push([4,,10,11]),[4,new Promise(function(e,n){var r=!1,i=function(){r=!0,e()};u.onload=i,u.onerror=function(e){r=!0,n(e)};var s=u.style;s.setProperty("display","block","important"),s.position="absolute",s.top="0",s.left="0",s.visibility="hidden",t&&"srcdoc"in u?u.srcdoc=t:u.src="about:blank",o.body.appendChild(u);var a=function(){var e,t;r||("complete"===(null===(t=null===(e=u.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?i():setTimeout(a,10))};a()})];case 5:i.sent(),i.label=6;case 6:return(null===(s=null===(r=u.contentWindow)||void 0===r?void 0:r.document)||void 0===s?void 0:s.body)?[3,8]:[4,c(n)];case 7:return i.sent(),[3,6];case 8:return[4,e(u,u.contentWindow)];case 9:return[2,i.sent()];case 10:return null===(a=u.parentNode)||void 0===a||a.removeChild(u),[7];case 11:return[2]}})})}function V(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),o=/^\s*([a-z-]*)(.*)$/i.exec(e),i=o[1]||void 0,s={},a=/([.:#][\w-]+|\[.+?\])/gi,c=function(e,t){s[e]=s[e]||[],s[e].push(t)};;){var u=a.exec(o[2]);if(!u)break;var l=u[0];switch(l[0]){case".":c("class",l.slice(1));break;case"#":c("id",l.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(l);if(!d)throw new Error(r);c(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[i,s]}(e),n=t[0],r=t[1],o=document.createElement(null!=n?n:"div"),i=0,s=Object.keys(r);i<s.length;i++){var a=s[i],c=r[a].join(" ");"style"===a?G(o.style,c):o.setAttribute(a,c)}return o}function G(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var o=r[n],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(o);if(i){var s=i[1],a=i[2],c=i[4];e.setProperty(s,a,c||"")}}}var Y,q,J=["monospace","sans-serif","serif"],Z=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function X(e){return e.toDataURL()}function K(){var e=this;return function(){if(void 0===q){var e=function(){var t=Q();ee(t)?q=setTimeout(e,2500):(Y=t,q=void 0)};e()}}(),function(){return o(e,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return ee(e=Q())?Y?[2,s([],Y,!0)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,W()]:[3,2]:[3,2];case 1:t.sent(),e=Q(),t.label=2;case 2:return ee(e)||(Y=e),[2,e]}var n})})}}function Q(){var e=screen;return[m(f(e.availTop),null),m(f(e.width)-f(e.availWidth)-m(f(e.availLeft),0),null),m(f(e.height)-f(e.availHeight)-m(f(e.availTop),0),null),m(f(e.availLeft),null)]}function ee(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function te(e){var t;return o(this,void 0,void 0,function(){var n,r,o,s,a,u,l;return i(this,function(i){switch(i.label){case 0:for(n=document,r=n.createElement("div"),o=new Array(e.length),s={},ne(r),l=0;l<e.length;++l)"DIALOG"===(a=V(e[l])).tagName&&a.show(),ne(u=n.createElement("div")),u.appendChild(a),r.appendChild(u),o[l]=a;i.label=1;case 1:return n.body?[3,3]:[4,c(50)];case 2:return i.sent(),[3,1];case 3:n.body.appendChild(r);try{for(l=0;l<e.length;++l)o[l].offsetParent||(s[e[l]]=!0)}finally{null===(t=r.parentNode)||void 0===t||t.removeChild(r)}return[2,s]}})})}function ne(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function re(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function oe(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function ie(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function se(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function ae(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function ce(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var ue=Math,le=function(){return 0},de={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},pe=function(){for(var e=window;;){var t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return!0;throw e}e=t}},he=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),fe=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),me=["FRAGMENT_SHADER","VERTEX_SHADER"],ge=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],ye="WEBGL_debug_renderer_info";function ve(e){if(e.webgl)return e.webgl.context;var t,n=document.createElement("canvas");n.addEventListener("webglCreateContextError",function(){return t=void 0});for(var r=0,o=["webgl","experimental-webgl"];r<o.length;r++){var i=o[r];try{t=n.getContext(i)}catch(e){}if(t)break}return e.webgl={context:t},t}function _e(e,t,n){var r=e.getShaderPrecisionFormat(e[t],e[n]);return r?[r.rangeMin,r.rangeMax,r.precision]:[]}function be(e){return Object.keys(e.__proto__).filter(Se)}function Se(e){return"string"==typeof e&&!e.match(/[^A-Z0-9_x]/)}function we(){return B()}function ke(){return N()||P()}function Ee(e){return"function"==typeof e.getParameter}var xe={fonts:function(){var e=this;return H(function(t,n){var r=n.document;return o(e,void 0,void 0,function(){var e,t,n,o,s,a,c,u,l,d,p;return i(this,function(i){for((e=r.body).style.fontSize="48px",(t=r.createElement("div")).style.setProperty("visibility","hidden","important"),n={},o={},s=function(e){var n=r.createElement("span"),o=n.style;return o.position="absolute",o.top="0",o.left="0",o.fontFamily=e,n.textContent="mmMwWLliI0O&1",t.appendChild(n),n},a=function(e,t){return s("'".concat(e,"',").concat(t))},c=function(){for(var e={},t=function(t){e[t]=J.map(function(e){return a(t,e)})},n=0,r=Z;n<r.length;n++)t(r[n]);return e},u=function(e){return J.some(function(t,r){return e[r].offsetWidth!==n[t]||e[r].offsetHeight!==o[t]})},l=J.map(s),d=c(),e.appendChild(t),p=0;p<J.length;p++)n[J[p]]=l[p].offsetWidth,o[J[p]]=l[p].offsetHeight;return[2,Z.filter(function(e){return u(d[e])})]})})})},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return o(this,void 0,void 0,function(){var e,n,r,o,s;return i(this,function(i){switch(i.label){case 0:return P()||U()?(a=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',a("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",a("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",a("LnNwb25zb3JpdA=="),".ylamainos",a("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),a("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",a("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",a("LmhlYWRlci1ibG9ja2VkLWFk"),a("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",a("I2FkXzMwMFgyNTA="),a("I2Jhbm5lcmZsb2F0MjI="),a("I2NhbXBhaWduLWJhbm5lcg=="),a("I0FkLUNvbnRlbnQ=")],adGuardChinese:[a("LlppX2FkX2FfSA=="),a("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",a("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),a("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",a("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",a("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",a("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),a("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),a("LmFkZ29vZ2xl"),a("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[a("YW1wLWF1dG8tYWRz"),a("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",a("I2FkX2ludmlld19hcmVh")],adGuardRussian:[a("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),a("LnJlY2xhbWE="),'div[id^="smi2adblock"]',a("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[a("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),a("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",a("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),a("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),a("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",a("I3Jla2xhbWk="),a("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),a("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),a("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[a("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",a("LndpZGdldF9wb19hZHNfd2lkZ2V0"),a("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",a("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[a("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),a("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",a("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",a("I3Jla2xhbW5pLWJveA=="),a("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",a("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[a("I2FkdmVydGVudGll"),a("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",a("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",a("LnNwb25zb3JsaW5rZ3J1ZW4="),a("I3dlcmJ1bmdza3k="),a("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),a("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[a("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",a("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),a("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),a("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[a("LnJla2xhbW9zX3RhcnBhcw=="),a("LnJla2xhbW9zX251b3JvZG9z"),a("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),a("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),a("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[a("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[a("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),a("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",a("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[a("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),a("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),a("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",a("LmFkX19tYWlu"),a("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[a("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[a("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),a("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[a("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),a("I2xpdmVyZUFkV3JhcHBlcg=="),a("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),a("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[a("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",a("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),a("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),a("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[a("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),a("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),a("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",a("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),a("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),a("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),a("ZGl2I3NrYXBpZWNfYWQ=")],ro:[a("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),a("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),a("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),a("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[a("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),a("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),a("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",a("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),a("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",a("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,te((s=[]).concat.apply(s,n.map(function(t){return e[t]})))]):[2,void 0];case 1:return r=i.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];n+="\n".concat(i,":");for(var s=0,a=e[i];s<a.length;s++){var c=a[s];n+="\n  ".concat(t[c]?"ðŸš«":"âž¡ï¸"," ").concat(c)}}console.log("".concat(n,"\n```"))}(e,r),(o=n.filter(function(t){var n=e[t];return g(n.map(function(e){return r[e]}))>.6*n.length})).sort(),[2,o]}var a})})},fontPreferences:function(){return function(e,t){return void 0===t&&(t=4e3),H(function(n,r){var o=r.document,i=o.body,a=i.style;a.width="".concat(t,"px"),a.webkitTextSizeAdjust=a.textSizeAdjust="none",N()?i.style.zoom="".concat(1/r.devicePixelRatio):P()&&(i.style.zoom="reset");var c=o.createElement("div");return c.textContent=s([],Array(t/20|0),!0).map(function(){return"word"}).join(" "),i.appendChild(c),e(o,i)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}(function(e,t){for(var n={},r={},o=0,i=Object.keys(de);o<i.length;o++){var s=i[o],a=de[s],c=a[0],u=void 0===c?{}:c,l=a[1],d=void 0===l?"mmMwWLliI0fiflO&1":l,p=e.createElement("span");p.textContent=d,p.style.whiteSpace="nowrap";for(var h=0,f=Object.keys(u);h<f.length;h++){var m=f[h],g=u[m];void 0!==g&&(p.style[m]=g)}n[s]=p,t.append(e.createElement("br"),p)}for(var y=0,v=Object.keys(de);y<v.length;y++)r[s=v[y]]=n[s].getBoundingClientRect().width;return r})},audio:function(){return P()&&$()&&j()||N()&&function(){var e=navigator,t=window,n=Audio.prototype,r=t.visualViewport;return g(["srLatency"in n,"srChannelCount"in n,"devicePosture"in e,r&&"segments"in r,"getTextInformation"in Image.prototype])>=3}()&&(t=(e=window).URLPattern,g(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3)?-4:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(P()&&!F()&&!function(){var e=window;return g(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=4500,r=new t(1,5e3,44100),o=r.createOscillator();o.type="triangle",o.frequency.value=1e4;var i=r.createDynamicsCompressor();i.threshold.value=-50,i.knee.value=40,i.ratio.value=12,i.attack.value=0,i.release.value=.25,o.connect(i),i.connect(r.destination),o.start(0);var s=function(e){var t=3,n=500,r=500,o=5e3,i=function(){},s=new Promise(function(s,a){var c=!1,l=0,d=0;e.oncomplete=function(e){return s(e.renderedBuffer)};var h=function(){setTimeout(function(){return a(z("timeout"))},Math.min(r,d+o-Date.now()))},f=function(){try{var r=e.startRendering();switch(u(r)&&p(r),e.state){case"running":d=Date.now(),c&&h();break;case"suspended":document.hidden||l++,c&&l>=t?a(z("suspended")):setTimeout(f,n)}}catch(e){a(e)}};f(),i=function(){c||(c=!0,d>0&&h())}});return[s,i]}(r),a=s[0],c=s[1],l=p(a.then(function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(n))},function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return function(){return c(),l}}();var e,t},screenFrame:function(){var e=this;if(P()&&$()&&j())return function(){return Promise.resolve(void 0)};var t=K();return function(){return o(e,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:y(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}})})}},canvas:function(){return function(e){var t,n,r,o=!1,i=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),s=i[0],a=i[1];return function(e,t){return!(!t||!e.toDataURL)}(s,a)?(o=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(a),e?n=r="skipped":(t=function(e,t){!function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(e,t);var n=X(e);return n!==X(e)?["unstable","unstable"]:(function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var o=r[n],i=o[0],s=o[1],a=o[2];t.fillStyle=i,t.beginPath(),t.arc(s,a,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(e,t),[X(e),n])}(s,a),n=t[0],r=t[1])):n=r="unsupported",{winding:o,geometry:n,text:r}}(P()&&$()&&j())},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))N()&&g([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var o=t.languages;o&&n.push(o.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return m(f(navigator.deviceMemory),void 0)},screenResolution:function(){var e,t,n;if(!(P()&&$()&&j()))return(n=[(t=function(e){return m(h(e),null)})((e=screen).width),t(e.height)]).sort().reverse(),n},hardwareConcurrency:function(){return m(h(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,o=(r=(new Date).getFullYear(),-Math.max(f(new Date(r,0,1).getTimezoneOffset()),f(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(o>=0?"+":"").concat(o)},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!D()&&!function(){var e=window,t=navigator;return g(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!D()}())try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&P()&&!F()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return g(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var o=[],i=0;i<r.length;++i){var s=r[i];o.push({type:s.type,suffixes:s.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:o})}}return t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=h(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],o=window[r];o&&"object"==typeof o&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!re("inverted")||!re("none")&&void 0},forcedColors:function(){return!!oe("active")||!oe("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return ie("no-preference")?0:ie("high")||ie("more")?1:ie("low")||ie("less")?-1:ie("forced")?10:void 0},reducedMotion:function(){return!!se("reduce")||!se("no-preference")&&void 0},reducedTransparency:function(){return!!ae("reduce")||!ae("no-preference")&&void 0},hdr:function(){return!!ce("high")||!ce("standard")&&void 0},math:function(){var e,t=ue.acos||le,n=ue.acosh||le,r=ue.asin||le,o=ue.asinh||le,i=ue.atanh||le,s=ue.atan||le,a=ue.sin||le,c=ue.sinh||le,u=ue.cos||le,l=ue.cosh||le,d=ue.tan||le,p=ue.tanh||le,h=ue.exp||le,f=ue.expm1||le,m=ue.log1p||le;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,ue.log(e+ue.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:o(1),asinhPf:function(e){return ue.log(e+ue.sqrt(e*e+1))}(1),atanh:i(.5),atanhPf:function(e){return ue.log((1+e)/(1-e))/2}(.5),atan:s(.5),sin:a(-1e300),sinh:c(1),sinhPf:function(e){return ue.exp(e)-1/ue.exp(e)/2}(1),cos:u(10.000000000123),cosh:l(1),coshPf:function(e){return(ue.exp(e)+1/ue.exp(e))/2}(1),tan:d(-1e300),tanh:p(1),tanhPf:function(e){return(ue.exp(2*e)-1)/(ue.exp(2*e)+1)}(1),exp:h(1),expm1:f(1),expm1Pf:function(e){return ue.exp(e)-1}(1),log1p:m(10),log1pPf:function(e){return ue.log(1+e)}(10),powPI:function(e){return ue.pow(ue.PI,e)}(-100)}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]},applePay:function(){var e=window.ApplePaySession;if("function"!=typeof(null==e?void 0:e.canMakePayments))return-1;if(pe())return-3;try{return e.canMakePayments()?1:0}catch(e){return function(e){if(e instanceof Error&&"InvalidAccessError"===e.name&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}(e)}},privateClickMeasurement:function(){var e,t=document.createElement("a"),n=null!==(e=t.attributionSourceId)&&void 0!==e?e:t.attributionsourceid;return void 0===n?void 0:String(n)},audioBaseLatency:function(){if(!U()&&!P())return-2;if(!window.AudioContext)return-1;var e=(new AudioContext).baseLatency;return null==e?-1:isFinite(e)?e:-3},dateTimeLocale:function(){if(!window.Intl)return-1;var e=window.Intl.DateTimeFormat;if(!e)return-2;var t=e().resolvedOptions().locale;return t||""===t?t:-3},webGlBasics:function(e){var t,n,r,o,i,s,a=ve(e.cache);if(!a)return-1;if(!Ee(a))return-2;var c=we()?null:a.getExtension(ye);return{version:(null===(t=a.getParameter(a.VERSION))||void 0===t?void 0:t.toString())||"",vendor:(null===(n=a.getParameter(a.VENDOR))||void 0===n?void 0:n.toString())||"",vendorUnmasked:c?null===(r=a.getParameter(c.UNMASKED_VENDOR_WEBGL))||void 0===r?void 0:r.toString():"",renderer:(null===(o=a.getParameter(a.RENDERER))||void 0===o?void 0:o.toString())||"",rendererUnmasked:c?null===(i=a.getParameter(c.UNMASKED_RENDERER_WEBGL))||void 0===i?void 0:i.toString():"",shadingLanguageVersion:(null===(s=a.getParameter(a.SHADING_LANGUAGE_VERSION))||void 0===s?void 0:s.toString())||""}},webGlExtensions:function(e){var t=ve(e.cache);if(!t)return-1;if(!Ee(t))return-2;var n=t.getSupportedExtensions(),r=t.getContextAttributes(),o=[],i=[],s=[],a=[],c=[];if(r)for(var u=0,l=Object.keys(r);u<l.length;u++){var d=l[u];i.push("".concat(d,"=").concat(r[d]))}for(var p=0,h=be(t);p<h.length;p++){var f=t[S=h[p]];s.push("".concat(S,"=").concat(f).concat(he.has(f)?"=".concat(t.getParameter(f)):""))}if(n)for(var m=0,g=n;m<g.length;m++){var y=g[m];if(!(y===ye&&we()||"WEBGL_polygon_mode"===y&&ke())){var v=t.getExtension(y);if(v)for(var _=0,b=be(v);_<b.length;_++){var S;f=v[S=b[_]],a.push("".concat(S,"=").concat(f).concat(fe.has(f)?"=".concat(t.getParameter(f)):""))}else o.push(y)}}for(var w=0,k=me;w<k.length;w++)for(var E=k[w],x=0,I=ge;x<I.length;x++){var T=I[x],C=_e(t,E,T);c.push("".concat(E,".").concat(T,"=").concat(C.join(",")))}return a.sort(),s.sort(),{contextAttributes:i,parameters:s,shaderPrecisions:c,extensions:n,extensionParameters:a,unsupportedExtensions:o}}};function Ie(e){var t=function(e){if(U())return.4;if(P())return!F()||$()&&j()?.3:.5;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}(e),n=function(e){return y(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(n))}}function Te(e){return JSON.stringify(e,function(e,t){return t instanceof Error?function(e){var t;return r({name:e.name,message:e.message,stack:null===(t=e.stack)||void 0===t?void 0:t.split("\n")},e)}(t):t},2)}function Ce(e){return L(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var o=r[n],i=e[o],s="error"in i?"error":JSON.stringify(i.value);t+="".concat(t?"|":"").concat(o.replace(/([:|\\])/g,"\\$1"),":").concat(s)}return t}(e))}function Me(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise(function(e){return n.call(window,function(){return e()},{timeout:t})}):c(Math.min(e,t))}(e,2*e)}function Re(e,t){var n=Date.now();return{get:function(r){return o(this,void 0,void 0,function(){var o,s,c;return i(this,function(i){switch(i.label){case 0:return o=Date.now(),[4,e()];case 1:return s=i.sent(),c=function(e){var t,n=Ie(e);return{get visitorId(){return void 0===t&&(t=Ce(this.components)),t},set visitorId(e){t=e},confidence:n,components:e,version:a}}(s),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(c.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(o-n,"\nvisitorId: ").concat(c.visitorId,"\ncomponents: ").concat(Te(s),"\n```")),[2,c]}})})}}}var Le={load:function(e){var t;return void 0===e&&(e={}),o(this,void 0,void 0,function(){var n,r,o;return i(this,function(i){switch(i.label){case 0:return(null===(t=e.monitoring)||void 0===t||t)&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(a,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),n=e.delayFallback,r=e.debug,[4,Me(n)];case 1:return i.sent(),o=function(e){return A(xe,e,[])}({cache:{},debug:r}),[2,Re(o,r)]}})})},hashComponents:Ce,componentsToDebugString:Te},Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Oe.apply(this,arguments)},Ae=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},De=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ne=function(){function e(){this.fp=null,this.visitorId=null,this.STORAGE_KEY="fp_dauid",this.COOKIE_NAME="fp_dauid",this.db=null,this.initialize()}return e.prototype.initIndexedDB=function(){return Ae(this,void 0,Promise,function(){var e=this;return De(this,function(t){return[2,new Promise(function(t,n){var r=indexedDB.open("FingerprintDB",1);r.onerror=function(){return n(r.error)},r.onsuccess=function(){e.db=r.result,t()},r.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("fingerprints")||t.createObjectStore("fingerprints")}})]})})},e.prototype.getFromIndexedDB=function(e){return Ae(this,void 0,Promise,function(){var t=this;return De(this,function(n){switch(n.label){case 0:return this.db?[3,2]:[4,this.initIndexedDB()];case 1:n.sent(),n.label=2;case 2:return[2,new Promise(function(n,r){var o=t.db.transaction(["fingerprints"],"readonly").objectStore("fingerprints").get(e);o.onsuccess=function(){return n(o.result||null)},o.onerror=function(){return r(o.error)}})]}})})},e.prototype.setToIndexedDB=function(e,t){return Ae(this,void 0,Promise,function(){var n=this;return De(this,function(r){switch(r.label){case 0:return this.db?[3,2]:[4,this.initIndexedDB()];case 1:r.sent(),r.label=2;case 2:return[2,new Promise(function(r,o){var i=n.db.transaction(["fingerprints"],"readwrite").objectStore("fingerprints").put(t,e);i.onsuccess=function(){return r()},i.onerror=function(){return o(i.error)}})]}})})},e.prototype.getCookie=function(e){var t,n="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===n.length&&(null===(t=n.pop())||void 0===t?void 0:t.split(";").shift())||null},e.prototype.setCookie=function(e,t,n){void 0===n&&(n=365);var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires=".concat(r.toUTCString());document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;SameSite=Lax")},e.prototype.generateHardwareId=function(){return Ae(this,void 0,Promise,function(){var e,t,n,r,o,i,s;return De(this,function(a){switch(a.label){case 0:return this.fp?[3,2]:(e=this,[4,Le.load()]);case 1:e.fp=a.sent(),a.label=2;case 2:return[4,this.fp.get()];case 3:return a.sent(),t={screen:{width:window.screen.width,height:window.screen.height},timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,platform:navigator.platform,deviceMemory:navigator.deviceMemory||0,hardwareConcurrency:navigator.hardwareConcurrency||0,language:navigator.language},n=document.createElement("canvas"),(r=n.getContext("webgl")||n.getContext("experimental-webgl"))&&(o=r.getExtension("WEBGL_debug_renderer_info"))&&[r.getParameter(o.UNMASKED_VENDOR_WEBGL),r.getParameter(o.UNMASKED_RENDERER_WEBGL)].join("|"),i=Oe(Oe({},t),{deviceMemory:t.deviceMemory||4,hardwareConcurrency:t.hardwareConcurrency||4}),s=JSON.stringify(Oe({},i)),[4,this.hashString(s)];case 4:return[2,a.sent()]}})})},e.prototype.hashString=function(e){return Ae(this,void 0,Promise,function(){var t,n,r,o,i,s;return De(this,function(a){switch(a.label){case 0:return window.crypto&&window.crypto.subtle?(t=new TextEncoder,n=t.encode(e),[4,window.crypto.subtle.digest("SHA-256",n)]):[3,2];case 1:return r=a.sent(),[2,Array.from(new Uint8Array(r)).map(function(e){return e.toString(16).padStart(2,"0")}).join("")];case 2:for(o=0,i=0;i<e.length;i++)s=e.charCodeAt(i),o=(o<<5)-o+s,o&=o;return[2,Math.abs(o).toString(16)]}})})},e.prototype.getStoredId=function(){return Ae(this,void 0,Promise,function(){var e,t,n;return De(this,function(r){switch(r.label){case 0:try{if(e=localStorage.getItem(this.STORAGE_KEY))return[2,e]}catch(e){}if(t=this.getCookie(this.COOKIE_NAME)){try{localStorage.setItem(this.STORAGE_KEY,t)}catch(e){}return[2,t]}r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getFromIndexedDB(this.STORAGE_KEY)];case 2:if(n=r.sent()){try{localStorage.setItem(this.STORAGE_KEY,n)}catch(e){}return[2,n]}return[3,4];case 3:return r.sent(),[3,4];case 4:return[2,null]}})})},e.prototype.storeId=function(e){return Ae(this,void 0,Promise,function(){return De(this,function(t){switch(t.label){case 0:try{localStorage.setItem(this.STORAGE_KEY,e)}catch(e){}this.setCookie(this.COOKIE_NAME,e),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.setToIndexedDB(this.STORAGE_KEY,e)];case 2:case 3:return t.sent(),[3,4];case 4:return[2]}})})},e.prototype.initialize=function(){return Ae(this,void 0,void 0,function(){var e,t;return De(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),[4,this.getStoredId()];case 1:return(e=n.sent())?(this.visitorId=e,[2]):(t=this,[4,this.generateHardwareId()]);case 2:return t.visitorId=n.sent(),this.visitorId?[4,this.storeId(this.visitorId)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[3,6];case 5:return n.sent(),[3,6];case 6:return[2]}})})},e.prototype.getVisitorId=function(){return Ae(this,void 0,Promise,function(){return De(this,function(e){switch(e.label){case 0:return this.visitorId?[3,2]:[4,this.initialize()];case 1:e.sent(),e.label=2;case 2:return[2,this.visitorId]}})})},e.prototype.getDeviceInfo=function(){return Ae(this,void 0,Promise,function(){var e,t;return De(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),this.fp?[3,2]:(e=this,[4,Le.load()]);case 1:e.fp=n.sent(),n.label=2;case 2:return[4,this.fp.get()];case 3:return t=n.sent(),[2,{visitorId:this.visitorId||t.visitorId,components:t.components,confidence:t.confidence}];case 4:return n.sent(),[2,null];case 5:return[2]}})})},e.prototype.getOrCreateFingerprintId=function(){return Ae(this,void 0,Promise,function(){var e;return De(this,function(t){switch(t.label){case 0:return(e=window.localStorage.getItem("fp_dauid"))?[3,2]:[4,this.generateHardwareId()];case 1:e=t.sent(),window.localStorage.setItem("fp_dauid",e),this.setCookie("fp_dauid",e,365),t.label=2;case 2:return[2,e]}})})},e}();const Pe="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Fe="10.1.0",je=globalThis;function Be(){return $e(je),je}function $e(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Fe,t[Fe]=t[Fe]||{}}function We(e,t,n=je){const r=n.__SENTRY__=n.__SENTRY__||{},o=r[Fe]=r[Fe]||{};return o[e]||(o[e]=t())}const Ue=["debug","info","warn","error","log","assert","trace"],ze={};function He(e){if(!("console"in je))return e();const t=je.console,n={},r=Object.keys(ze);r.forEach(e=>{const r=ze[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}function Ve(){return Ye().enabled}function Ge(e,...t){Pe&&Ve()&&He(()=>{je.console[e](`Sentry Logger [${e}]:`,...t)})}function Ye(){return Pe?We("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const qe={enable:function(){Ye().enabled=!0},disable:function(){Ye().enabled=!1},isEnabled:Ve,log:function(...e){Ge("log",...e)},warn:function(...e){Ge("warn",...e)},error:function(...e){Ge("error",...e)}},Je=[];function Ze(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(n))r=[...t,...n];else if("function"==typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return function(e){const t={};return e.forEach(e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(r)}function Xe(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Ke(e,t,n){if(n[t.name])Pe&&qe.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Je.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),Je.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}Pe&&qe.log(`Integration installed: ${t.name}`)}}function Qe(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}const et=Object.prototype.toString;function tt(e){switch(et.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return dt(e,Error)}}function nt(e,t){return et.call(e)===`[object ${t}]`}function rt(e){return nt(e,"ErrorEvent")}function ot(e){return nt(e,"DOMError")}function it(e){return nt(e,"String")}function st(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function at(e){return null===e||st(e)||"object"!=typeof e&&"function"!=typeof e}function ct(e){return nt(e,"Object")}function ut(e){return"undefined"!=typeof Event&&dt(e,Event)}function lt(e){return Boolean(e?.then&&"function"==typeof e.then)}function dt(e,t){try{return e instanceof t}catch{return!1}}function pt(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function ht(e){return"undefined"!=typeof Request&&dt(e,Request)}const ft=je;function mt(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,s=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=gt(n,l),!("html"===u||i>1&&s+o.length*c+u.length>=d));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function gt(e,t){const n=e,r=[];if(!n?.tagName)return"";if(ft.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=t?.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(o?.length)o.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&it(e)){const t=e.split(/\s+/);for(const e of t)r.push(`.${e}`)}}const i=["aria-label","type","name","title","alt"];for(const e of i){const t=n.getAttribute(e);t&&r.push(`[${e}="${t}"]`)}return r.join("")}function yt(){try{return ft.document.location.href}catch{return""}}function vt(e){if(!ft.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function _t(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function bt(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{pt(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function St(e,t,n=!1){return!!it(e)&&(nt(t,"RegExp")?t.test(e):!!it(t)&&(n?e===t:e.includes(t)))}function wt(e,t=[],n=!1){return t.some(t=>St(e,t,n))}function kt(e,t,n){if(!(t in e))return;const r=e[t];if("function"!=typeof r)return;const o=n(r);"function"==typeof o&&xt(o,r);try{e[t]=o}catch{Pe&&qe.log(`Failed to replace method "${t}" in object`,e)}}function Et(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Pe&&qe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function xt(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Et(e,"__sentry_original__",t)}catch{}}function It(e){return e.__sentry_original__}function Tt(e){if(tt(e))return{message:e.message,name:e.name,stack:e.stack,...Mt(e)};if(ut(e)){const t={type:e.type,target:Ct(e.target),currentTarget:Ct(e.currentTarget),...Mt(e)};return"undefined"!=typeof CustomEvent&&dt(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ct(e){try{return"undefined"!=typeof Element&&dt(e,Element)?mt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Mt(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Rt(e=function(){const e=je;return e.crypto||e.msCrypto}()){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function Lt(e){return e.exception?.values?.[0]}function Ot(e){const{message:t,event_id:n}=e;if(t)return t;const r=Lt(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function At(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function Dt(e,t){const n=Lt(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r?.data,...t.data};n.mechanism.data=e}}function Nt(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{Et(e,"__sentry_captured__",!0)}catch{}return!1}const Pt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Ft=(e={})=>{let t;return{name:"EventFilters",setup(n){const r=n.getOptions();t=Bt(e,r)},processEvent(n,r,o){if(!t){const n=o.getOptions();t=Bt(e,n)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;const n=e.transaction;return!!n&&wt(n,t)}(e,t.ignoreTransactions))return Pe&&qe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Ot(e)}`),!0}else{if(function(e,t){return!!t?.length&&Qe(e).some(e=>wt(e,t))}(e,t.ignoreErrors))return Pe&&qe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Ot(e)}`),!0;if(function(e){return!!e.exception?.values?.length&&!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)}(e))return Pe&&qe.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Ot(e)}`),!0;if(function(e,t){if(!t?.length)return!1;const n=$t(e);return!!n&&wt(n,t)}(e,t.denyUrls))return Pe&&qe.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Ot(e)}.\nUrl: ${$t(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;const n=$t(e);return!n||wt(n,t)}(e,t.allowUrls))return Pe&&qe.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Ot(e)}.\nUrl: ${$t(e)}`),!0}return!1}(n,t)?null:n}}},jt=(e={})=>({...Ft(e),name:"InboundFilters"});function Bt(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Pt],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function $t(e){try{const t=[...e.exception?.values??[]].reverse().find(e=>void 0===e.mechanism?.parent_id&&e.stacktrace?.frames?.length),n=t?.stacktrace?.frames;return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return Pe&&qe.error(`Cannot extract url for event ${Ot(e)}`),null}}function Wt(){return Date.now()/1e3}let Ut,zt;function Ht(){return(Ut??(Ut=function(){const{performance:e}=je;if(!e?.now||!e.timeOrigin)return Wt;const t=e.timeOrigin;return()=>(t+e.now())/1e3}()))()}function Vt(){return zt||(zt=function(){const{performance:e}=je;if(!e?.now)return[void 0,"none"];const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,a="number"==typeof s?Math.abs(s+n-r):t;return i||a<t?o<=a?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}()),zt[0]}function Gt(e){const t=Ht(),n={sid:Rt(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)};return e&&Yt(n,e),n}function Yt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ht(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Rt()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function qt(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const r={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=qt(r[e],t[e],n-1));return r}function Jt(){return Rt()}function Zt(){return Rt().substring(16)}const Xt="_sentrySpan";function Kt(e,t){t?Et(e,Xt,t):delete e[Xt]}function Qt(e){return e[Xt]}class en{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Jt(),sampleRand:Math.random()}}clone(){const e=new en;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Kt(e,Qt(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Yt(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,n=t instanceof en?t.getScopeData():ct(t)?e:void 0,{tags:r,extra:o,user:i,contexts:s,level:a,fingerprint:c=[],propagationContext:u}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...o},this._contexts={...this._contexts,...s},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Kt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Jt(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:Wt(),...e,message:e.message?_t(e.message,2048):e.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Qt(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=qt(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t?.event_id||Rt();if(!this._client)return Pe&&qe.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n?.event_id||Rt();if(!this._client)return Pe&&qe.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t?.event_id||Rt();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Pe&&qe.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class tn{constructor(e,t){let n,r;n=e||new en,r=t||new en,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return lt(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function nn(){const e=$e(Be());return e.stack=e.stack||new tn(We("defaultCurrentScope",()=>new en),We("defaultIsolationScope",()=>new en))}function rn(e){return nn().withScope(e)}function on(e,t){const n=nn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function sn(e){return nn().withScope(()=>e(nn().getIsolationScope()))}function an(e){const t=$e(e);return t.acs?t.acs:{withIsolationScope:sn,withScope:rn,withSetScope:on,withSetIsolationScope:(e,t)=>sn(t),getCurrentScope:()=>nn().getScope(),getIsolationScope:()=>nn().getIsolationScope()}}function cn(){return an(Be()).getCurrentScope()}function un(){return an(Be()).getIsolationScope()}function ln(...e){const t=an(Be());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function dn(){return cn().getClient()}function pn(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||Zt()};return r&&(i.parent_span_id=r),i}let hn;const fn=new WeakMap,mn=()=>({name:"FunctionToString",setupOnce(){hn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=It(this),n=fn.has(dn())&&void 0!==t?t:this;return hn.apply(n,e)}}catch{}},setup(e){fn.set(e,!0)}}),gn="?",yn=/\(error: (.*)\)/,vn=/captureMessage|captureException/;function _n(...e){const t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,r=0)=>{const o=[],i=e.split("\n");for(let e=n;e<i.length;e++){let n=i[e];n.length>1024&&(n=n.slice(0,1024));const s=yn.test(n)?n.replace(yn,"$1"):n;if(!s.match(/\S*Error: /)){for(const e of t){const t=e(s);if(t){o.push(t);break}}if(o.length>=50+r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(bn(t).function||"")&&t.pop(),t.reverse(),vn.test(bn(t).function||"")&&(t.pop(),vn.test(bn(t).function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||bn(t).filename,function:e.function||gn}))}(o.slice(r))}}function bn(e){return e[e.length-1]||{}}const Sn="<anonymous>";function wn(e){try{return e&&"function"==typeof e&&e.name||Sn}catch{return Sn}}function kn(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch{return}}}const En=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){return!(!t||!function(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!In(e,t)||!xn(e,t))}(e,t)&&!function(e,t){const n=Tn(t),r=Tn(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&In(e,t)&&xn(e,t))}(e,t))}(t,e))return Pe&&qe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function xn(e,t){let n=kn(e),r=kn(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function In(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch{return!1}}function Tn(e){return e.exception?.values?.[0]}function Cn(e,t){!0===t.debug&&(Pe?qe.enable():He(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),cn().update(t.initialScope);const n=new e(t);return function(e){cn().setClient(e)}(n),n.init(),n}function Mn(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Rn(e,t,n){return t||`${function(e){return`${Mn(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}const Ln="production",On="sentry.source",An="sentry.sample_rate",Dn="sentry.previous_trace_sample_rate",Nn="sentry.op",Pn="sentry.origin",Fn="sentry.idle_span_finish_reason",jn="sentry.measurement_unit",Bn="sentry.measurement_value",$n="sentry.custom_span_name",Wn="sentry.profile_id",Un="sentry.exclusive_time",zn="sentry.link.type",Hn="sentry-",Vn=/^sentry-/;function Gn(e){const t=function(e){if(e&&(it(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>{const n=qn(t);return Object.entries(n).forEach(([t,n])=>{e[t]=n}),e},{}):qn(e)}(e);if(!t)return;const n=Object.entries(t).reduce((e,[t,n])=>(t.match(Vn)&&(e[t.slice(7)]=n),e),{});return Object.keys(n).length>0?n:void 0}function Yn(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,i=0===r?o:`${e},${o}`;return i.length>8192?(Pe&&qe.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):i},"")}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${Hn}${t}`]=n),e),{}))}function qn(e){return e.split(",").map(e=>e.split("=").map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{})}const Jn=/^o(\d+)\./,Zn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Xn(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`}function Kn(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Qn(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=function(e){const t=e.match(Jn);return t?.[1]}(n)),r}function er(e){const t="string"==typeof e?function(e){const t=Zn.exec(e);if(!t)return void He(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});const[n,r,o="",i="",s="",a=""]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return Kn({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}(e):Kn(e);if(t&&function(e){if(!Pe)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(qe.error(`Invalid Sentry Dsn: ${t} missing`),!0))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(qe.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(qe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(qe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}function tr(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=e||dn()?.getOptions();return!(!t||null==t.tracesSampleRate&&!t.tracesSampler)}function nr(e,t){e.setAttribute("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}const rr="_sentryScope",or="_sentryIsolationScope";function ir(e){return{scope:e[rr],isolationScope:e[or]}}function sr(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;return"number"!=typeof t||isNaN(t)||t<0||t>1?void 0:t}const ar=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function cr(e,t){const n=function(e){if(!e)return;const t=e.match(ar);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=Gn(t);if(!n?.traceId)return{traceId:Jt(),sampleRand:Math.random()};const o=function(e,t){const n=sr(t?.sample_rand);if(void 0!==n)return n;const r=sr(t?.sample_rate);return r&&void 0!==e?.parentSampled?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=o.toString());const{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function ur(e=Jt(),t=Zt(),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}let lr=!1;function dr(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=gr(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function pr(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:gr(e).parent_span_id,i=ir(e).scope;return{parent_span_id:o,span_id:r?i?.getPropagationContext().propagationSpanId||Zt():t,trace_id:n}}function hr(e){return e&&e.length>0?e.map(({context:{spanId:e,traceId:t,traceFlags:n,...r},attributes:o})=>({span_id:e,trace_id:t,sampled:1===n,attributes:o,...r})):void 0}function fr(e){return"number"==typeof e?mr(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?mr(e.getTime()):Ht()}function mr(e){return e>9999999999?e/1e3:e}function gr(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0,start_timestamp:fr(o),timestamp:fr(s)||void 0,status:vr(a),op:r[Nn],origin:r[Pn],links:hr(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function yr(e){const{traceFlags:t}=e.spanContext();return 1===t}function vr(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}const _r="_sentryChildSpans",br="_sentryRootSpan";function Sr(e,t){const n=e[br]||e;Et(t,br,n),e[_r]?e[_r].add(t):Et(e,_r,new Set([t]))}function wr(e){const t=new Set;return function e(n){if(!t.has(n)&&yr(n)){t.add(n);const r=n[_r]?Array.from(n[_r]):[];for(const t of r)e(t)}}(e),Array.from(t)}function kr(e){return e[br]||e}function Er(){const e=an(Be());return e.getActiveSpan?e.getActiveSpan():Qt(cn())}function xr(){lr||(He(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),lr=!0)}const Ir="_frozenDsc";function Tr(e,t){Et(e,Ir,t)}function Cr(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o={environment:n.environment||Ln,release:n.release,public_key:r,trace_id:e,org_id:Qn(t)};return t.emit("createDsc",o),o}function Mr(e,t){const n=t.getPropagationContext();return n.dsc||Cr(n.traceId,e)}function Rr(e){const t=dn();if(!t)return{};const n=kr(e),r=gr(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[An]??o[Dn];function a(e){return"number"!=typeof s&&"string"!=typeof s||(e.sample_rate=`${s}`),e}const c=n[Ir];if(c)return a(c);const u=i?.get("sentry.dsc"),l=u&&Gn(u);if(l)return a(l);const d=Cr(e.spanContext().traceId,t),p=o[On],h=r.description;return"url"!==p&&h&&(d.transaction=h),tr()&&(d.sampled=String(yr(n)),d.sample_rand=i?.get("sentry.sample_rand")??ir(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}function Lr(e,t=100,n=1/0){try{return Ar("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Or(e,t=3,n=102400){const r=Lr(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?Or(e,t-1,n):r;var o}function Ar(e,t,r=1/0,o=1/0,i=function(){const e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}()){const[s,a]=i;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(pt(t))return"[VueViewModel]";if(ct(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${wn(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const o=function(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(o)?`[HTMLElement: ${o}]`:`[object ${o}]`}catch(e){return`**non-serializable** (${e})`}var r}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const u="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===u)return c.replace("object ","");if(s(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return Ar("",l.toJSON(),u-1,o,i)}catch{}const d=Array.isArray(t)?[]:{};let p=0;const h=Tt(t);for(const e in h){if(!Object.prototype.hasOwnProperty.call(h,e))continue;if(p>=o){d[e]="[MaxProperties ~]";break}const t=h[e];d[e]=Ar(e,t,u-1,o,i),p++}return a(t),d}function Dr(e,t=[]){return[e,t]}function Nr(e,t){const[n,r]=e;return[n,[...r,t]]}function Pr(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function Fr(e){const t=$e(je);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function jr(e){const[t,n]=e;let r=JSON.stringify(t);function o(e){"string"==typeof r?r="string"==typeof e?r+e:[Fr(r),e]:r.push("string"==typeof e?Fr(e):e)}for(const e of n){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch{e=JSON.stringify(Lr(n))}o(e)}}return"string"==typeof r?r:function(e){const t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(r)}function Br(e){return[{type:"span"},e]}function $r(e){const t="string"==typeof e.data?Fr(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Wr={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ur(e){return Wr[e]}function zr(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Hr(e,t,n,r){const o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Xn(r)},...o&&{trace:o}}}function Vr(e){return new Yr(t=>{t(e)})}function Gr(e){return new Yr((t,n)=>{n(e)})}class Yr{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new Yr((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new Yr((t,n)=>{let r,o;return this.then(t=>{o=!1,r=t,e&&e()},t=>{o=!0,r=t,e&&e()}).then(()=>{o?n(r):t(r)})})}_executeHandlers(){if(0===this._state)return;const e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){const t=(e,t)=>{0===this._state&&(lt(t)?t.then(n,r):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(1,e)},r=e=>{t(2,e)};try{e(n,r)}catch(e){r(e)}}}function qr(e,t,n,r=0){return new Yr((o,i)=>{const s=e[r];if(null===t||"function"!=typeof s)o(t);else{const a=s({...t},n);Pe&&s.id&&null===a&&qe.log(`Event processor "${s.id}" dropped event`),lt(a)?a.then(t=>qr(e,t,n,r+1).then(o)).then(null,i):qr(e,a,n,r+1).then(o).then(null,i)}})}function Jr(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&"transaction"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:pr(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Rr(t),...e.sdkProcessingMetadata};const n=gr(kr(t)).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}function Zr(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:h,span:f}=t;Xr(e,"extra",n),Xr(e,"tags",r),Xr(e,"user",o),Xr(e,"contexts",i),e.sdkProcessingMetadata=qt(e.sdkProcessingMetadata,a,2),s&&(e.level=s),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function Xr(e,t,n){e[t]=qt(e[t],n,1)}let Kr,Qr,eo;function to(e){const t=je._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return eo&&n.length===Qr||(Qr=n.length,eo=n.reduce((n,r)=>{Kr||(Kr={});const o=Kr[r];if(o)n[o[0]]=o[1];else{const o=e(r);for(let e=o.length-1;e>=0;e--){const i=o[e],s=i?.filename,a=t[r];if(s&&a){n[s]=a,Kr[r]=[s,a];break}}}return n},{})),eo}function no(e,t,n,r,o,i){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Rt(),timestamp:t.timestamp||Wt()},u=n.integrations||e.integrations.map(e=>e.name);!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||Ln,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);const s=e.request;s?.url&&(s.url=_t(s.url,i))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,u),o&&o.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){const n=to(t);e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=n[e.filename])})})}(c,e.stackParser);const l=function(e,t){if(!t)return e;const n=e?e.clone():new en;return n.update(t),n}(r,n.captureContext);n.mechanism&&Dt(c,n.mechanism);const d=o?o.getEventProcessors():[],p=We("globalScope",()=>new en).getScopeData();i&&Zr(p,i.getScopeData()),l&&Zr(p,l.getScopeData());const h=[...n.attachments||[],...p.attachments];return h.length&&(n.attachments=h),Jr(c,p),qr([...d,...p.eventProcessors],c,n).then(e=>(e&&function(e){const t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof s&&s>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:Lr(e.data,t,n)}}))},...e.user&&{user:Lr(e.user,t,n)},...e.contexts&&{contexts:Lr(e.contexts,t,n)},...e.extra&&{extra:Lr(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Lr(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:Lr(e.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Lr(e.contexts.flags,3,n)),r}(e,s,a):e))}function ro(e){if(e)return function(e){return e instanceof en||"function"==typeof e}(e)||function(e){return Object.keys(e).some(e=>oo.includes(e))}(e)?{captureContext:e}:e}const oo=["user","level","extra","contexts","tags","fingerprint","propagationContext"],io="Not capturing exception because it's already been captured.",so="Discarded session because of missing or non-string release",ao=Symbol.for("SentryInternalError"),co=Symbol.for("SentryDoNotSendEventError");function uo(e){return{message:e,[ao]:!0}}function lo(e){return{message:e,[co]:!0}}function po(e){return!!e&&"object"==typeof e&&ao in e}function ho(e){return!!e&&"object"==typeof e&&co in e}class fo{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=er(e.dsn):Pe&&qe.warn("No DSN provided, client will not send events."),this._dsn){const t=Rn(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=Rt();if(Nt(e))return Pe&&qe.log(io),r;const o={event_id:r,...t};return this._process(this.eventFromException(e,o).then(e=>this._captureEvent(e,o,n))),o.event_id}captureMessage(e,t,n,r){const o={event_id:Rt(),...n},i=st(e)?e:String(e),s=at(e)?this.eventFromMessage(i,t,o):this.eventFromException(e,o);return this._process(s.then(e=>this._captureEvent(e,o,r))),o.event_id}captureEvent(e,t,n){const r=Rt();if(t?.originalException&&Nt(t.originalException))return Pe&&qe.log(io),r;const o={event_id:r,...t},i=e.sdkProcessingMetadata||{},s=i.capturedSpanScope,a=i.capturedSpanIsolationScope;return this._process(this._captureEvent(e,o,s||n,a)),o.event_id}captureSession(e){this.sendSession(e),Yt(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):Vr(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];Ke(this,e,this._integrations),t||Xe(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const o=zr(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n?.sdk);const s=Hr(e,o,r,t);return delete e.sdkProcessingMetadata,Dr(s,[[{type:i},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Nr(n,$r(e));const r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){const{release:t,environment:n=Ln}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void(Pe&&qe.warn(so));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void(Pe&&qe.warn(so));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=function(e,t,n,r){const o=zr(n);return Dr({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:Xn(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){const r=`${e}:${t}`;Pe&&qe.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach(e=>e(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,e=>(Pe&&qe.error("Error while sending envelope:",e),e)):(Pe&&qe.error("Transport disabled"),Vr({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach(t=>{t&&Ke(e,t,n)}),n}(this,e),Xe(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1;const o=t.exception?.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(!1===t?.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(Yt(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Yr(t=>{let n=0;const r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i?.length&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),no(o,e,t,n,this,r).then(e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts={trace:pn(n),...e.contexts};const r=Mr(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:r,...e.sdkProcessingMetadata},e})}_captureEvent(e,t={},n=cn(),r=un()){return Pe&&mo(e)&&qe.log(`Captured error event \`${Qe(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(e=>e.event_id,e=>{Pe&&(ho(e)?qe.log(e.message):po(e)?qe.warn(e.message):qe.warn(e))})}_processEvent(e,t,n,r){const o=this.getOptions(),{sampleRate:i}=o,s=go(e),a=mo(e),c=e.type||"error",u=`before send for type \`${c}\``,l=void 0===i?void 0:sr(i);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Gr(lo(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const d="replay_event"===c?"replay":c;return this._prepareEvent(e,t,n,r).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",d),lo("An event processor returned `null`, will not send event.");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t;let a=n;if(mo(a)&&o)return o(a,r);if(go(a)){if(s){const e=s(function(e){const{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[Wn],exclusive_time:s?.[Un],measurements:e.measurements,is_segment:!0}}(a));if(e?a=qt(n,{type:"transaction",timestamp:(c=e).timestamp,start_timestamp:c.start_timestamp,transaction:c.description,contexts:{trace:{trace_id:c.trace_id,span_id:c.span_id,parent_span_id:c.parent_span_id,op:c.op,status:c.status,origin:c.origin,data:{...c.data,...c.profile_id&&{[Wn]:c.profile_id},...c.exclusive_time&&{[Un]:c.exclusive_time}}}},measurements:c.measurements}):xr(),a.spans){const e=[];for(const t of a.spans){const n=s(t);n?e.push(n):(xr(),e.push(t))}a.spans=e}}if(i){if(a.spans){const e=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return i(a,r)}}var c;return a}(0,o,e,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(lt(e))return e.then(e=>{if(!ct(e)&&null!==e)throw uo(n);return e},e=>{throw uo(`${t} rejected with ${e}`)});if(!ct(e)&&null!==e)throw uo(n);return e}(n,u)}).then(o=>{if(null===o){if(this.recordDroppedEvent("before_send",d),s){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw lo(`${u} returned \`null\`, will not send event.`)}const i=n.getSession()||r.getSession();if(a&&i&&this._updateSessionFromEvent(i,o),s){const e=(o.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const c=o.transaction_info;if(s&&c&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...c,source:e}}return this.sendEvent(o,t),o}).then(null,e=>{if(ho(e)||po(e))throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),uo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){Pe&&qe.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(Pe&&qe.log("No outcomes to send"));if(!this._dsn)return void(Pe&&qe.log("No dsn provided, will not send outcomes"));Pe&&qe.log("Sending outcomes:",e);const t=(n=e,Dr((r=this._options.tunnel&&Xn(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||Wt(),discarded_events:n}]]));var n,r,o;this.sendEnvelope(t)}}function mo(e){return void 0===e.type}function go(e){return"transaction"===e.type}function yo(e,t){const n=t??vo(e)??[];if(0===n.length)return;const r=e.getOptions(),o=function(e,t,n,r){const o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=Xn(r)),Dr(o,[(i=e,[{type:"log",item_count:i.length,content_type:"application/vnd.sentry.items.log+json"},{items:i}])]);var i}(n,r._metadata,r.tunnel,e.getDsn());_o().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function vo(e){return _o().get(e)}function _o(){return We("clientToLogBufferMap",()=>new WeakMap)}function bo(e){void 0===e.user?.ip_address&&(e.user={...e.user,ip_address:"{{auto}}"})}function So(e){"aggregates"in e?void 0===e.attrs?.ip_address&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function wo(e,t){const n=xo(e,t),r={type:Co(t),value:Mo(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function ko(e,t,n,r){const o=dn(),i=o?.getOptions().normalizeDepth,s=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}(t),a={__serialized__:Or(t,i)};if(s)return{exception:{values:[wo(e,s)]},extra:a};const c={exception:{values:[{type:ut(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Oo(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=xo(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}function Eo(e,t){return{exception:{values:[wo(e,t)]}}}function xo(e,t){const n=t.stacktrace||t.stack||"",r=function(e){return e&&Io.test(e.message)?1:0}(t),o=function(e){return"number"==typeof e.framesToPop?e.framesToPop:0}(t);try{return e(n,r,o)}catch{}return[]}const Io=/Minified React error #\d+;/i;function To(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Co(e){const t=e?.name;return!t&&To(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}function Mo(e){const t=e?.message;return To(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Ro(e,t,n,r,o){let i;if(rt(t)&&t.error)return Eo(e,t.error);if(ot(t)||nt(t,"DOMException")){const o=t;if("stack"in t)i=Eo(e,t);else{const t=o.name||(ot(o)?"DOMError":"DOMException"),s=o.message?`${t}: ${o.message}`:t;i=Lo(e,s,n,r),At(i,s)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return tt(t)?Eo(e,t):ct(t)||ut(t)?(i=ko(e,t,n,o),Dt(i,{synthetic:!0}),i):(i=Lo(e,t,n,r),At(i,`${t}`,void 0),Dt(i,{synthetic:!0}),i)}function Lo(e,t,n,r){const o={};if(r&&n){const r=xo(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]}),Dt(o,{synthetic:!0})}if(st(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function Oo(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Tt(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return _t(r,t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:_t(r,t)}return""}(e),r=t?"promise rejection":"exception";return rt(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ut(e)?`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Ao(e,t){return cn().captureException(e,ro(t))}function Do(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return cn().captureMessage(e,n,r)}function No(e,t){return cn().captureEvent(e,t)}function Po(e){const t=un(),n=cn(),{userAgent:r}=je.navigator||{},o=Gt({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return"ok"===i?.status&&Yt(i,{status:"exited"}),Fo(),t.setSession(o),o}function Fo(){const e=un(),t=cn().getSession()||e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),Yt(e,n)}(t),jo(),e.setSession()}function jo(){const e=un(),t=dn(),n=e.getSession();n&&t&&t.captureSession(n)}function Bo(e=!1){e?Fo():jo()}const $o=je;let Wo=0;function Uo(){return Wo>0}function zo(e,t={}){if(!function(e){return"function"==typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(It(e))return e}catch{return e}const n=function(...n){try{const r=n.map(e=>zo(e,t));return e.apply(this,r)}catch(e){throw Wo++,setTimeout(()=>{Wo--}),ln(r=>{r.addEventProcessor(e=>(t.mechanism&&(At(e,void 0,void 0),Dt(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),Ao(e)}),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch{}xt(n,e),Et(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}function Ho(){const e=yt(),{referrer:t}=$o.document||{},{userAgent:n}=$o.navigator||{};return{url:e,headers:{...t&&{Referer:t},...n&&{"User-Agent":n}}}}class Vo extends fo{constructor(e){const t=(n=e,{release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:$o.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...n});var n;!function(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:Fe})),version:Fe}),e._metadata=o}(t,"browser",["browser"],$o.SENTRY_SDK_SOURCE||"npm"),super(t);const{sendDefaultPii:r,sendClientReports:o,enableLogs:i}=this._options;$o.document&&(o||i)&&$o.document.addEventListener("visibilitychange",()=>{"hidden"===$o.document.visibilityState&&(o&&this._flushOutcomes(),i&&yo(this))}),i&&(this.on("flush",()=>{yo(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{yo(this)},5e3)})),r&&(this.on("postprocessEvent",bo),this.on("beforeSendSession",So))}eventFromException(e,t){return function(e,t,n,r){const o=Ro(e,t,n?.syntheticException||void 0,r);return Dt(o),o.level="error",n?.event_id&&(o.event_id=n.event_id),Vr(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,o){const i=Lo(e,t,r?.syntheticException||void 0,o);return i.level=n,r?.event_id&&(i.event_id=r.event_id),Vr(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}}const Go={},Yo={};function qo(e,t){Go[e]=Go[e]||[],Go[e].push(t)}function Jo(e,t){if(!Yo[e]){Yo[e]=!0;try{t()}catch(t){Pe&&qe.error(`Error while instrumenting ${e}`,t)}}}function Zo(e,t){const n=e&&Go[e];if(n)for(const r of n)try{r(t)}catch(t){Pe&&qe.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${wn(r)}\nError:`,t)}}function Xo(){"console"in je&&Ue.forEach(function(e){e in je.console&&kt(je.console,e,function(t){return ze[e]=t,function(...t){Zo("console",{args:t,level:e});const n=ze[e];n?.apply(je.console,t)}})})}const Ko=je;function Qo(){if(!("fetch"in Ko))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function ei(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ti(e,t){const n="fetch";qo(n,e),Jo(n,()=>ni(void 0,t))}function ni(e,t=!1){t&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!Qo())return!1;if(ei(Ko.fetch))return!0;let e=!1;const t=Ko.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=ei(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){Pe&&qe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}()||kt(je,"fetch",function(t){return function(...n){const r=new Error,{method:o,url:i}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:ii(t),method:oi(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:ii(t),method:oi(t,"method")?String(t.method).toUpperCase():"GET"}}(n),s={args:n,fetchData:{method:o,url:i},startTimestamp:1e3*Ht(),virtualError:r,headers:si(n)};return e||Zo("fetch",{...s}),t.apply(je,n).then(async t=>(e?e(t):Zo("fetch",{...s,endTimestamp:1e3*Ht(),response:t}),t),e=>{if(Zo("fetch",{...s,endTimestamp:1e3*Ht(),error:e}),tt(e)&&void 0===e.stack&&(e.stack=r.stack,Et(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{const t=new URL(s.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})}function ri(e){let t;try{t=e.clone()}catch{return}!async function(e,t){if(e?.body){const n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},9e4);let i=!0;for(;i;){let e;try{e=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:o}=await r.read();clearTimeout(e),o&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(e)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}(t,()=>{Zo("fetch-body-resolved",{endTimestamp:1e3*Ht(),response:e})})}function oi(e,t){return!!e&&"object"==typeof e&&!!e[t]}function ii(e){return"string"==typeof e?e:e?oi(e,"url")?e.url:e.toString?e.toString():"":""}function si(e){const[t,n]=e;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(ht(t))return new Headers(t.headers)}catch{}}const ai=100;function ci(e,t){const n=dn(),r=un();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=ai}=n.getOptions();if(i<=0)return;const s={timestamp:Wt(),...e},a=o?He(()=>o(s,t)):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}function ui(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}function li(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}function di(e){return"isRelative"in e}function pi(e,t){const n=e.indexOf("://")<=0&&0!==e.indexOf("//"),r=t??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;const t=new URL(e,r);return n?{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash}:t}catch{}}function hi(e){if(di(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function fi(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const mi=je;let gi,yi,vi;function _i(e){qo("dom",e),Jo("dom",bi)}function bi(){if(!mi.document)return;const e=Zo.bind(null,"dom"),t=Si(e,!0);mi.document.addEventListener("click",t,!1),mi.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{const n=mi,r=n[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(kt(r,"addEventListener",function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=r[n]=r[n]||{refCount:0};if(!i.handler){const r=Si(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch{}return t.call(this,n,r,o)}}),kt(r,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},o=n[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return e.call(this,t,n,r)}}))})}function Si(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch{return null}}(n);if(function(e,t){return"keypress"===e&&(!t?.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Et(n,"_sentryCaptured",!0),r&&!r._sentryId&&Et(r,"_sentryId",Rt());const o="keypress"===n.type?"input":n.type;(function(e){if(e.type!==yi)return!1;try{if(!e.target||e.target._sentryId!==vi)return!1}catch{}return!0})(n)||(e({event:n,name:o,global:t}),yi=n.type,vi=r?r._sentryId:void 0),clearTimeout(gi),gi=mi.setTimeout(()=>{vi=void 0,yi=void 0},1e3)}}const wi="__sentry_xhr_v3__";function ki(e){qo("xhr",e),Jo("xhr",Ei)}function Ei(){if(!mi.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,o=1e3*Ht(),i=it(n[0])?n[0].toUpperCase():void 0,s=function(e){if(it(e))return e;try{return e.toString()}catch{}}(n[1]);if(!i||!s)return e.apply(t,n);t[wi]={method:i,url:s,request_headers:{}},"POST"===i&&s.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[wi];if(e&&4===t.readyState){try{e.status_code=t.status}catch{}Zo("xhr",{endTimestamp:1e3*Ht(),startTimestamp:o,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,o]=n,i=t[wi];return i&&it(r)&&it(o)&&(i.request_headers[r.toLowerCase()]=o),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[wi];return r?(void 0!==n[0]&&(r.body=n[0]),Zo("xhr",{startTimestamp:1e3*Ht(),xhr:t}),e.apply(t,n)):e.apply(t,n)}})}let xi;function Ii(e){const t="history";qo(t,e),Jo(t,Ti)}function Ti(){function e(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const r=xi,o=function(e){try{return new URL(e,mi.location.origin).toString()}catch{return e}}(String(n));if(xi=o,r===o)return e.apply(this,t);Zo("history",{from:r,to:o})}return e.apply(this,t)}}mi.addEventListener("popstate",()=>{const e=mi.location.href,t=xi;xi=e,t!==e&&Zo("history",{from:t,to:e})}),"history"in Ko&&Ko.history&&(kt(mi.history,"pushState",e),kt(mi.history,"replaceState",e))}const Ci="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Mi=1024,Ri=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){t.console&&function(e){const t="console";qo(t,e),Jo(t,Xo)}(function(e){return function(t){if(dn()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:ui(t.level),message:bt(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${bt(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}ci(n,{input:t.args,level:t.level})}}(e)),t.dom&&_i(function(e,t){return function(n){if(dn()!==e)return;let r,o,i="object"==typeof t?t.serializeAttribute:void 0,s="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>Mi&&(Ci&&qe.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=Mi),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=mt(t,{keyAttrs:i,maxStringLength:s}),o=vt(t)}catch{r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};o&&(a.data={"ui.component_name":o}),ci(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&ki(function(e){return function(t){if(dn()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[wi];if(!n||!r||!o)return;const{method:i,url:s,status_code:a,body:c}=o,u={method:i,url:s,status_code:a},l={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r},d={category:"xhr",data:u,type:"http",level:li(a)};e.emit("beforeOutgoingRequestBreadcrumb",d,l),ci(d,l)}}(e)),t.fetch&&ti(function(e){return function(t){if(dn()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const o=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,i),ci(s,i)}else{const o=t.response,i={...t.fetchData,status_code:o?.status};t.fetchData.request_body_size,t.fetchData.response_body_size;const s={input:t.args,response:o,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:i,type:"http",level:li(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,s),ci(a,s)}}}(e)),t.history&&Ii(function(e){return function(t){if(dn()!==e)return;let n=t.from,r=t.to;const o=fi($o.location.href);let i=n?fi(n):void 0;const s=fi(r);i?.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),ci({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){dn()===e&&ci({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Ot(t)},{event:t})}}(e))}}},Li=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Oi=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&kt($o,"setTimeout",Ai),t.setInterval&&kt($o,"setInterval",Ai),t.requestAnimationFrame&&kt($o,"requestAnimationFrame",Di),t.XMLHttpRequest&&"XMLHttpRequest"in $o&&kt(XMLHttpRequest.prototype,"send",Ni);const e=t.eventTarget;e&&(Array.isArray(e)?e:Li).forEach(e=>function(e,t){const n=$o,r=n[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(kt(r,"addEventListener",function(n){return function(r,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=zo(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:wn(o),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&function(e,t,n){e&&"object"==typeof e&&"removeEventListener"in e&&"function"==typeof e.removeEventListener&&e.removeEventListener(t,n)}(this,r,o),n.apply(this,[r,zo(o,{mechanism:{data:{function:"addEventListener",handler:wn(o),target:e},handled:!1,type:"instrument"}}),i])}}),kt(r,"removeEventListener",function(e){return function(t,n,r){try{const o=n.__sentry_wrapped__;o&&e.call(this,t,o,r)}catch{}return e.call(this,t,n,r)}}))}(e,t))}}};function Ai(e){return function(...t){const n=t[0];return t[0]=zo(n,{mechanism:{data:{function:wn(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Di(e){return function(t){return e.apply(this,[zo(t,{mechanism:{data:{function:"requestAnimationFrame",handler:wn(e)},handled:!1,type:"instrument"}})])}}function Ni(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&kt(n,e,function(t){const n={mechanism:{data:{function:e,handler:wn(t)},handled:!1,type:"instrument"}},r=It(t);return r&&(n.mechanism.data.handler=wn(r)),zo(t,n)})}),e.apply(this,t)}}const Pi=()=>({name:"BrowserSession",setupOnce(){void 0!==$o.document?(Po({ignoreDuration:!0}),Bo(),Ii(({from:e,to:t})=>{void 0!==e&&e!==t&&(Po({ignoreDuration:!0}),Bo())})):Ci&&qe.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}});let Fi=null;function ji(e){const t="error";qo(t,e),Jo(t,Bi)}function Bi(){Fi=je.onerror,je.onerror=function(e,t,n,r,o){return Zo("error",{column:r,error:o,line:n,msg:e,url:t}),!!Fi&&Fi.apply(this,arguments)},je.onerror.__SENTRY_INSTRUMENTED__=!0}let $i=null;function Wi(e){const t="unhandledrejection";qo(t,e),Jo(t,Ui)}function Ui(){$i=je.onunhandledrejection,je.onunhandledrejection=function(e){return Zo("unhandledrejection",e),!$i||$i.apply(this,arguments)},je.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const zi=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){ji(t=>{const{stackParser:n,attachStacktrace:r}=Vi();if(dn()!==e||Uo())return;const{msg:o,url:i,line:s,column:a,error:c}=t,u=function(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=it(t)&&t.length>0?t:yt();return 0===c.length&&c.push({colno:u,filename:d,function:gn,in_app:!0,lineno:l}),e}(Ro(n,c||o,void 0,r,!1),i,s,a);u.level="error",No(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}(e),Hi("onerror")),t.onunhandledrejection&&(function(e){Wi(t=>{const{stackParser:n,attachStacktrace:r}=Vi();if(dn()!==e||Uo())return;const o=function(e){if(at(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),i=at(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Ro(n,o,void 0,r,!0);i.level="error",No(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(e),Hi("onunhandledrejection"))}}};function Hi(e){Ci&&qe.log(`Global Handler attached: ${e}`)}function Vi(){const e=dn();return e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Gi=()=>({name:"HttpContext",preprocessEvent(e){if(!$o.navigator&&!$o.location&&!$o.document)return;const t=Ho(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});function Yi(e,t,n,r,o,i){if(!o.exception?.values||!i||!dt(i.originalException,Error))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=qi(e,t,r,i.originalException,n,o.exception.values,s,0))}function qi(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(dt(r[o],Error)){Ji(s,a);const i=e(t,r[o]),u=c.length;Zi(i,o,u,a),c=qi(e,t,n,r[o],o,[i,...c],i,u)}return Array.isArray(r.errors)&&r.errors.forEach((r,i)=>{if(dt(r,Error)){Ji(s,a);const u=e(t,r),l=c.length;Zi(u,`errors[${i}]`,l,a),c=qi(e,t,n,r,o,[u,...c],u,l)}}),c}function Ji(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Zi(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const Xi=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,o){Yi(wo,o.getOptions().stackParser,n,t,e,r)}}};function Ki(e,t,n,r){const o={filename:e,function:"<anonymous>"===t?gn:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Qi=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,es=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ts=/\((\S*)(?::(\d+))(?::(\d+))\)/,ns=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rs=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,os=_n([30,e=>{const t=Qi.exec(e);if(t){const[,e,n,r]=t;return Ki(e,gn,+n,+r)}const n=es.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=ts.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=is(n[1]||gn,n[2]);return Ki(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=ns.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=rs.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||gn;return[n,e]=is(n,e),Ki(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),is=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:gn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ss=Symbol.for("SentryBufferFullError");function as(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Gr(ss);const o=r();return-1===t.indexOf(o)&&t.push(o),o.then(()=>n(o)).then(null,()=>n(o).then(null,()=>{})),o},drain:function(e){return new Yr((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{Vr(e).then(()=>{--o||(clearTimeout(i),n(!0))},r)})})}}}function cs(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function us(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n,,,i]=e.split(":",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))"metric_bucket"===e&&i&&!i.split(";").includes("custom")||(o[e]=r+a);else o.all=r+a}else s?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(o.all=r+6e4);return o}const ls="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ds={};function ps(e){const t=ds[e];if(t)return t;let n=mi[e];if(ei(n))return ds[e]=n.bind(mi);const r=mi.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const o=t.contentWindow;o?.[e]&&(n=o[e]),r.head.removeChild(t)}catch(t){ls&&qe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?ds[e]=n.bind(mi):n}function hs(e){ds[e]=void 0}function fs(...e){return ps("setTimeout")(...e)}function ms(e,t=ps("fetch")){let n=0,r=0;return function(e,t,n=as(e.bufferSize||64)){let r={};return{send:function(o){const i=[];if(Pr(o,(t,n)=>{const o=Ur(n);cs(r,o)?e.recordDroppedEvent("ratelimit_backoff",o):i.push(t)}),0===i.length)return Vr({});const s=Dr(o[0],i),a=t=>{Pr(s,(n,r)=>{e.recordDroppedEvent(t,Ur(r))})};return n.add(()=>t({body:jr(s)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Pe&&qe.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=us(r,e),e),e=>{throw a("network_error"),Pe&&qe.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===ss)return Pe&&qe.error("Skipped sending event because buffer is full."),a("queue_overflow"),Vr({});throw e})},flush:e=>n.drain(e)}}(e,function(o){const i=o.body.length;n+=i,r++;const s={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return hs("fetch"),Gr("No fetch implementation available");try{return t(e.url,s).then(e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return hs("fetch"),n-=i,r--,Gr(e)}})}function gs(){return!!function(){if(void 0===$o.window)return!1;const e=$o;if(e.nw)return!1;const t=e.chrome||e.browser;if(!t?.runtime?.id)return!1;const n=yt(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!($o===$o.top&&r.some(e=>n.startsWith(`${e}://`)))}()&&(Ci&&He(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0)}class ys{constructor(e={}){this._traceId=e.traceId||Jt(),this._spanId=e.spanId||Zt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}function vs(e){if(!e||0===e.length)return;const t={};return e.forEach(e=>{const n=e.attributes||{},r=n[jn],o=n[Bn];"string"==typeof r&&"number"==typeof o&&(t[e.name]={value:o,unit:r})}),t}class _s{constructor(e={}){this._traceId=e.traceId||Jt(),this._spanId=e.spanId||Zt(),this._startTime=e.startTimestamp||Ht(),this._links=e.links,this._attributes={},this.setAttributes({[Pn]:"manual",[Nn]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=fr(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(On,"custom"),this}end(e){this._endTime||(this._endTime=fr(e),function(e){if(!Pe)return;const{description:t="< unknown name >",op:n="< unknown op >"}=gr(e),{spanId:r}=e.spanContext(),o=`[Tracing] Finishing "${n}" ${kr(e)===e?"root ":""}span "${t}" with ID ${r}`;qe.log(o)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Nn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:vr(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Pn],profile_id:this._attributes[Wn],exclusive_time:this._attributes[Un],measurements:vs(this._events),is_segment:this._isStandaloneSpan&&kr(this)===this||void 0,segment_id:this._isStandaloneSpan?kr(this).spanContext().spanId:void 0,links:hr(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){Pe&&qe.log("[Tracing] Adding an event to span:",e);const r=bs(t)?t:n||Ht(),o=bs(t)?{}:t||{},i={name:e,time:fr(r),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=dn();if(e&&e.emit("spanEnd",this),!this._isStandaloneSpan&&this!==kr(this))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=dn();if(!t)return;const n=e[1];n&&0!==n.length?t.sendEnvelope(e):t.recordDroppedEvent("before_send","span")}(function(e,t){const n=Rr(e[0]),r=t?.getDsn(),o=t?.getOptions().tunnel,i={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n},...!!o&&r&&{dsn:Xn(r)}},s=t?.getOptions().beforeSendSpan,a=s?e=>{const t=gr(e);return s(t)||(xr(),t)}:gr,c=[];for(const t of e){const e=a(t);e&&c.push(Br(e))}return Dr(i,c)}([this],e)):(Pe&&qe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();t&&(ir(this).scope||cn()).captureEvent(t)}_convertSpanToTransaction(){if(!Ss(gr(this)))return;this._name||(Pe&&qe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=ir(this),n=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(!0!==this._sampled)return;const r=wr(this).filter(e=>e!==this&&!function(e){return e instanceof _s&&e.isStandaloneSpan()}(e)).map(e=>gr(e)).filter(Ss),o=this._attributes[On];delete this._attributes[$n],r.forEach(e=>{delete e.data[$n]});const i={contexts:{trace:dr(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:Rr(this)},request:n,...o&&{transaction_info:{source:o}}},s=vs(this._events);return s&&Object.keys(s).length&&(Pe&&qe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(s,void 0,2)),i.measurements=s),i}}function bs(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function Ss(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id)}function ws(e,t,n=()=>{}){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){return lt(e)?e.then(e=>(n(),e),e=>{throw t(e),n(),e}):(n(),e)}(r,t,n)}const ks="__SENTRY_SUPPRESS_TRACING__";function Es(e){const t=Cs();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Ts(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?t=>ln(e.scope,t):void 0!==o?e=>xs(o,e):e=>e())(()=>{const t=cn(),i=Rs(t,o);return e.onlyIfParent&&!i?new ys:Is({parentSpan:i,spanArguments:n,forceTransaction:r,scope:t})})}function xs(e,t){const n=Cs();return n.withActiveSpan?n.withActiveSpan(e,t):ln(n=>(Kt(n,e||void 0),t(n)))}function Is({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!tr()){const r=new ys;return!n&&e||Tr(r,{sampled:"false",sample_rate:"0",transaction:t.name,...Rr(r)}),r}const o=un();let i;if(e&&!n)i=function(e,t,n){const{spanId:r,traceId:o}=e.spanContext(),i=!t.getScopeData().sdkProcessingMetadata[ks]&&yr(e),s=i?new _s({...n,parentSpanId:r,traceId:o,sampled:i}):new ys({traceId:o});Sr(e,s);const a=dn();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}(e,r,t),Sr(e,i);else if(e){const n=Rr(e),{traceId:o,spanId:s}=e.spanContext(),a=yr(e);i=Ms({traceId:o,parentSpanId:s,...t},r,a),Tr(i,n)}else{const{traceId:e,dsc:n,parentSpanId:s,sampled:a}={...o.getPropagationContext(),...r.getPropagationContext()};i=Ms({traceId:e,parentSpanId:s,...t},r,a),n&&Tr(i,n)}return function(e){if(!Pe)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=gr(e),{spanId:o}=e.spanContext(),i=yr(e),s=kr(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:e,description:t}=gr(s);u.push(`root ID: ${s.spanContext().spanId}`),e&&u.push(`root op: ${e}`),t&&u.push(`root description: ${t}`)}qe.log(`${c}\n  ${u.join("\n  ")}`)}(i),function(e,t,n){e&&(Et(e,or,n),Et(e,rr,t))}(i,r,o),i}function Ts(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=fr(e.startTime),delete n.startTime,n}return t}function Cs(){return an(Be())}function Ms(e,t,n){const r=dn(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});const a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[l,d,p]=t.getScopeData().sdkProcessingMetadata[ks]?[!1]:function(e,t,n){if(!tr(e))return[!1];let r,o;"function"==typeof e.tracesSampler?(o=e.tracesSampler({...t,inheritOrSampleWith:e=>"number"==typeof t.parentSampleRate?t.parentSampleRate:"boolean"==typeof t.parentSampled?Number(t.parentSampled):e}),r=!0):void 0!==t.parentSampled?o=t.parentSampled:void 0!==e.tracesSampleRate&&(o=e.tracesSampleRate,r=!0);const i=sr(o);if(void 0===i)return Pe&&qe.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return Pe&&qe.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,i,r];const s=n<i;return s||Pe&&qe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:sr(u.dsc?.sample_rate)},u.sampleRand),h=new _s({...e,attributes:{[On]:"custom",[An]:void 0!==d&&p?d:void 0,...c},sampled:l});return!l&&r&&(Pe&&qe.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",h),h}function Rs(e,t){if(t)return t;if(null===t)return;const n=Qt(e);if(!n)return;const r=dn();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?kr(n):n}function Ls(e){return void 0!==e?t=>xs(e,t):e=>e()}const Os={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function As(e,t={}){const n=new Map;let r,o=!1,i="externalFinish",s=!t.disableAutoFinish;const a=[],{idleTimeout:c=Os.idleTimeout,finalTimeout:u=Os.finalTimeout,childSpanTimeout:l=Os.childSpanTimeout,beforeSpanEnd:d}=t,p=dn();if(!p||!tr()){const e=new ys;return Tr(e,{sample_rate:"0",sampled:"false",...Rr(e)}),e}const h=cn(),f=Er(),m=function(e){const t=Es(e);return Kt(cn(),t),Pe&&qe.log("[Tracing] Started span is an idle span"),t}(e);function g(){r&&(clearTimeout(r),r=void 0)}function y(e){g(),r=setTimeout(()=>{!o&&0===n.size&&s&&(i="idleTimeout",m.end(e))},c)}function v(e){r=setTimeout(()=>{!o&&s&&(i="heartbeatFailed",m.end(e))},l)}function _(e){o=!0,n.clear(),a.forEach(e=>e()),Kt(h,f);const t=gr(m),{start_timestamp:r}=t;if(!r)return;t.data[Fn]||m.setAttribute(Fn,i),qe.log(`[Tracing] Idle span "${t.op}" finished`);const s=wr(m).filter(e=>e!==m);let l=0;s.forEach(t=>{t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),Pe&&qe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=gr(t),{timestamp:r=0,start_timestamp:o=0}=n,i=o<=e,s=r-o<=(u+c)/1e3;if(Pe){const e=JSON.stringify(t,void 0,2);i?s||qe.log("[Tracing] Discarding span since it finished after idle span final timeout",e):qe.log("[Tracing] Discarding span since it happened after idle span was finished",e)}s&&i||(function(e,t){e[_r]&&e[_r].delete(t)}(m,t),l++)}),l>0&&m.setAttribute("sentry.idle_span_discarded_spans",l)}return m.end=new Proxy(m.end,{apply(e,t,n){if(d&&d(m),t instanceof ys)return;const[r,...o]=n,i=fr(r||Ht()),s=wr(m).filter(e=>e!==m);if(!s.length)return _(i),Reflect.apply(e,t,[i,...o]);const a=s.map(e=>gr(e).timestamp).filter(e=>!!e),c=a.length?Math.max(...a):void 0,l=gr(m).start_timestamp,p=Math.min(l?l+u/1e3:1/0,Math.max(l||-1/0,Math.min(i,c||1/0)));return _(p),Reflect.apply(e,t,[p,...o])}}),a.push(p.on("spanStart",e=>{var t;o||e===m||gr(e).timestamp||e instanceof _s&&e.isStandaloneSpan()||wr(m).includes(e)&&(t=e.spanContext().spanId,g(),n.set(t,!0),v(Ht()+l/1e3))})),a.push(p.on("spanEnd",e=>{var t;o||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&y(Ht()+c/1e3))})),a.push(p.on("idleSpanEnableAutoFinish",e=>{e===m&&(s=!0,y(),n.size&&v())})),t.disableAutoFinish||y(),setTimeout(()=>{o||(m.setStatus({code:2,message:"deadline_exceeded"}),i="finalTimeout",m.end())},u),m}let Ds=!1;const Ns=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||void 0===o)&&(o=t.value,t.delta=i,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},Ps=(e=!0)=>{const t=mi.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Fs=()=>{const e=Ps();return e?.activationStart??0},js=(e,t=-1)=>{const n=Ps();let r="navigate";return n&&(mi.document?.prerendering||Fs()>0?r="prerender":mi.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Bs=new WeakMap;function $s(e,t){return Bs.get(e)||Bs.set(e,new t),Bs.get(e)}class Ws{constructor(){Ws.prototype.__init.call(this),Ws.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const t=this._sessionEntries[0],n=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const Us=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},zs=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Hs=-1;const Vs=e=>{"hidden"===mi.document.visibilityState&&Hs>-1&&(Hs="visibilitychange"===e.type?e.timeStamp:0,Gs())},Gs=()=>{removeEventListener("visibilitychange",Vs,!0),removeEventListener("prerenderingchange",Vs,!0)},Ys=()=>{if(mi.document&&Hs<0){const e=Fs(),t=mi.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;Hs=t??("hidden"!==mi.document?.visibilityState||mi.document?.prerendering?1/0:0),addEventListener("visibilitychange",Vs,!0),addEventListener("prerenderingchange",Vs,!0)}return{get firstHiddenTime(){return Hs}}},qs=e=>{mi.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Js=[1800,3e3],Zs=[.1,.25],Xs=(e,t={})=>{((e,t={})=>{qs(()=>{const n=Ys(),r=js("FCP");let o;const i=Us("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-Fs(),0),r.entries.push(t),o(!0)))});i&&(o=Ns(e,r,Js,t.reportAllChanges))})})(zs(()=>{const n=js("CLS",0);let r;const o=$s(t,Ws),i=e=>{for(const t of e)o._processEntry(t);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=Us("layout-shift",i);s&&(r=Ns(e,n,Zs,t.reportAllChanges),mi.document?.addEventListener("visibilitychange",()=>{"hidden"===mi.document?.visibilityState&&(i(s.takeRecords()),r(!0))}),mi?.setTimeout?.(r))}))};let Ks=0,Qs=1/0,ea=0;const ta=e=>{e.forEach(e=>{e.interactionId&&(Qs=Math.min(Qs,e.interactionId),ea=Math.max(ea,e.interactionId),Ks=ea?(ea-Qs)/7+1:0)})};let na;const ra=()=>na?Ks:performance.interactionCount||0,oa=()=>{"interactionCount"in performance||na||(na=Us("event",ta,{type:"event",buffered:!0,durationThreshold:0}))};let ia=0;class sa{constructor(){sa.prototype.__init.call(this),sa.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){ia=ra(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor((ra()-ia)/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this._longestInteractionList.at(-1);let n=this._longestInteractionMap.get(e.interactionId);if(n||this._longestInteractionList.length<10||e.duration>t._latency){if(n?e.duration>n._latency?(n.entries=[e],n._latency=e.duration):e.duration===n._latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(n.id,n),this._longestInteractionList.push(n)),this._longestInteractionList.sort((e,t)=>t._latency-e._latency),this._longestInteractionList.length>10){const e=this._longestInteractionList.splice(10);for(const t of e)this._longestInteractionMap.delete(t.id)}this._onAfterProcessingINPCandidate?.(n)}}}const aa=e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==mi.document?.visibilityState||e(t)};mi.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},ca=e=>{const t=mi.requestIdleCallback||mi.setTimeout;"hidden"===mi.document?.visibilityState?e():(t(e=zs(e)),aa(e))},ua=[200,500];class la{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const da=[2500,4e3],pa=[800,1800],ha=e=>{mi.document?.prerendering?qs(()=>ha(e)):"complete"!==mi.document?.readyState?addEventListener("load",()=>ha(e),!0):setTimeout(e)},fa={},ma={};let ga,ya,va,_a;function ba(e,t=!1){return Ma("cls",e,xa,ga,t)}function Sa(e,t=!1){return Ma("lcp",e,Ia,ya,t)}function wa(e){return Ma("inp",e,Ca,_a)}function ka(e,t){return Ra(e,t),ma[e]||(function(e){const t={};"event"===e&&(t.durationThreshold=0),Us(e,t=>{Ea(e,{entries:t})},t)}(e),ma[e]=!0),La(e,t)}function Ea(e,t){const n=fa[e];if(n?.length)for(const r of n)try{r(t)}catch(t){ls&&qe.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${wn(r)}\nError:`,t)}}function xa(){return Xs(e=>{Ea("cls",{metric:e}),ga=e},{reportAllChanges:!0})}function Ia(){return((e,t={})=>{qs(()=>{const n=Ys(),r=js("LCP");let o;const i=$s(t,la),s=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)i._processEntry(t),t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-Fs(),0),r.entries=[t],o())},a=Us("largest-contentful-paint",s);if(a){o=Ns(e,r,da,t.reportAllChanges);const n=zs(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(const e of["keydown","click","visibilitychange"])mi.document&&addEventListener(e,()=>ca(n),{capture:!0,once:!0})}})})(e=>{Ea("lcp",{metric:e}),ya=e},{reportAllChanges:!0})}function Ta(){return((e,t={})=>{const n=js("TTFB"),r=Ns(e,n,pa,t.reportAllChanges);ha(()=>{const e=Ps();e&&(n.value=Math.max(e.responseStart-Fs(),0),n.entries=[e],r(!0))})})(e=>{Ea("ttfb",{metric:e}),va=e})}function Ca(){return((e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&qs(()=>{oa();const n=js("INP");let r;const o=$s(t,sa),i=e=>{ca(()=>{for(const t of e)o._processEntry(t);const t=o._estimateP98LongestInteraction();t&&t._latency!==n.value&&(n.value=t._latency,n.entries=t.entries,r())})},s=Us("event",i,{durationThreshold:t.durationThreshold??40});r=Ns(e,n,ua,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),aa(()=>{i(s.takeRecords()),r(!0)}))})})(e=>{Ea("inp",{metric:e}),_a=e})}function Ma(e,t,n,r,o=!1){let i;return Ra(e,t),ma[e]||(i=n(),ma[e]=!0),r&&t({metric:r}),La(e,t,o?i:void 0)}function Ra(e,t){fa[e]=fa[e]||[],fa[e].push(t)}function La(e,t,n){return()=>{n&&n();const r=fa[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}function Oa(e){return"number"==typeof e&&isFinite(e)}function Aa(e,t,n,{...r}){const o=gr(e).start_timestamp;return o&&o>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),xs(e,()=>{const e=Es({startTime:t,...r});return e&&e.end(n),e})}function Da(e){const t=dn();if(!t)return;const{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),l=u?.getReplayId(),d=cn(),p=d.getUser(),h=void 0!==p?p.email||p.id||p.ip_address:void 0;let f;try{f=d.getScopeData().contexts.profile.profile_id}catch{}return Es({name:n,attributes:{release:s,environment:a,user:h||void 0,profile_id:f||void 0,replay_id:l||void 0,transaction:r,"user_agent.original":mi.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o},startTime:i,experimental:{standalone:!0}})}function Na(){return mi.addEventListener&&mi.performance}function Pa(e){return e/1e3}function Fa(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function ja(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Ba(e,t){let n,r=!1;function o(e){!r&&n&&t(e,n),r=!0}aa(()=>{o("pagehide")});const i=e.on("beforeStartNavigationSpan",(e,t)=>{t?.isRedirect||(o("navigation"),$a(i,s))}),s=e.on("afterStartPageLoadSpan",e=>{n=e.spanContext().spanId,$a(s)})}function $a(...e){e.forEach(e=>e&&setTimeout(e,0))}function Wa(e){let t,n=0;if(!ja("layout-shift"))return;const r=ba(({metric:e})=>{const r=e.entries[e.entries.length-1];r&&(n=e.value,t=r)},!0);Ba(e,(e,o)=>{!function(e,t,n,r){ls&&qe.log(`Sending CLS span (${e})`);const o=Pa((Vt()||0)+(t?.startTime||0)),i=cn().getScopeData().transactionName,s=t?mt(t.sources[0]?.node):"Layout shift",a={[Pn]:"auto.http.browser.cls",[Nn]:"ui.webvital.cls",[Un]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((e,t)=>{a[`cls.source.${t+1}`]=mt(e.node)});const c=Da({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("cls",{[jn]:"",[Bn]:e}),c.end(o))}(n,t,o,e),r()})}function Ua(e){let t,n=0;if(!ja("largest-contentful-paint"))return;const r=Sa(({metric:e})=>{const r=e.entries[e.entries.length-1];r&&(n=e.value,t=r)},!0);Ba(e,(e,o)=>{!function(e,t,n,r){ls&&qe.log(`Sending LCP span (${e})`);const o=Pa((Vt()||0)+(t?.startTime||0)),i=cn().getScopeData().transactionName,s=t?mt(t.element):"Largest contentful paint",a={[Pn]:"auto.http.browser.lcp",[Nn]:"ui.webvital.lcp",[Un]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=mt(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),null!=t.loadTime&&(a["lcp.loadTime"]=t.loadTime),null!=t.renderTime&&(a["lcp.renderTime"]=t.renderTime),null!=t.size&&(a["lcp.size"]=t.size));const c=Da({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[jn]:"millisecond",[Bn]:e}),c.end(o))}(n,t,o,e),r()})}let za,Ha,Va=0,Ga={};function Ya({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Na();if(r&&Vt()){r.mark&&mi.performance.mark("sentry-tracing-init");const o=t?Ua(n):Sa(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ga.lcp={value:e.value,unit:"millisecond"},za=t)},!0),i=Ma("ttfb",({metric:e})=>{e.entries[e.entries.length-1]&&(Ga.ttfb={value:e.value,unit:"millisecond"})},Ta,va),s=e?Wa(n):ba(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ga.cls={value:e.value,unit:""},Ha=t)},!0);return()=>{o?.(),i(),s?.()}}return()=>{}}function qa(e,t){const n=Na(),r=Vt();if(!n?.getEntries||!r)return;const o=Pa(r),i=n.getEntries(),{op:s,start_timestamp:a}=gr(e);i.slice(Va).forEach(n=>{const r=Pa(n.startTime),i=Pa(Math.max(0,n.duration));if(!("navigation"===s&&a&&o+r<a))switch(n.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Ja(e,t,r,n)}),Ja(e,t,"secureConnection",n,"TLS/SSL"),Ja(e,t,"fetch",n,"cache"),Ja(e,t,"domainLookup",n,"DNS"),function(e,t,n){const r=n+Pa(t.requestStart),o=n+Pa(t.responseEnd),i=n+Pa(t.responseStart);t.responseEnd&&(Aa(e,r,o,{op:"browser.request",name:t.name,attributes:{[Pn]:"auto.ui.browser.metrics"}}),Aa(e,i,o,{op:"browser.response",name:t.name,attributes:{[Pn]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,n,o);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&wt(t.name,i))return;const s=Ps(!1),a=Pa(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,l=u+r,d={[Pn]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),function(e,t){try{const n=t.detail;if(!n)return;if("object"==typeof n){for(const[t,r]of Object.entries(n))if(r&&at(r))e[`sentry.browser.measure.detail.${t}`]=r;else if(void 0!==r)try{e[`sentry.browser.measure.detail.${t}`]=JSON.stringify(r)}catch{}return}if(at(n))return void(e["sentry.browser.measure.detail"]=n);try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}(d,t),c<=l&&Aa(e,c,l,{name:t.name,op:t.entryType,attributes:d})}(e,n,r,i,o,t.ignorePerformanceApiSpans);const s=Ys(),a=n.startTime<s.firstHiddenTime;"first-paint"===n.name&&a&&(Ga.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&a&&(Ga.fcp={value:n.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,i,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;const c=fi(n),u={[Pn]:"auto.resource.browser.metrics"};Za(u,t,"transferSize","http.response_transfer_size"),Za(u,t,"encodedBodySize","http.response_content_length"),Za(u,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;null!=l&&(u["http.response_delivery_type"]=l);const d=t.renderBlockingStatus;if(d&&(u["resource.render_blocking_status"]=d),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(mi.location.origin),null!=t.nextHopProtocol){const{name:e,version:n}=Fa(t.nextHopProtocol);u["network.protocol.name"]=e,u["network.protocol.version"]=n}const p=i+r;Aa(e,p,p+o,{name:n.replace(mi.location.origin,""),op:a,attributes:u})}(e,n,n.name,r,i,o,t.ignoreResourceSpans)}}),Va=Math.max(i.length-1,0),function(e){const t=mi.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Oa(n.rtt)&&(Ga["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Oa(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Oa(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s&&(function(e){const t=Ps(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(Ga),t.recordClsOnPageloadSpan||delete Ga.cls,t.recordLcpOnPageloadSpan||delete Ga.lcp,Object.entries(Ga).forEach(([e,t])=>{!function(e,t,n,r=Er()){const o=r&&kr(r);o&&(Pe&&qe.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[Bn]:t,[jn]:n}))}(e,t.value,t.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",Fs()),function(e,t){za&&t.recordLcpOnPageloadSpan&&(za.element&&e.setAttribute("lcp.element",mt(za.element)),za.id&&e.setAttribute("lcp.id",za.id),za.url&&e.setAttribute("lcp.url",za.url.trim().slice(0,200)),null!=za.loadTime&&e.setAttribute("lcp.loadTime",za.loadTime),null!=za.renderTime&&e.setAttribute("lcp.renderTime",za.renderTime),e.setAttribute("lcp.size",za.size)),Ha?.sources&&t.recordClsOnPageloadSpan&&Ha.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,mt(t.node)))}(e,t)),za=void 0,Ha=void 0,Ga={}}function Ja(e,t,n,r,o=n){const i=function(e){return"secureConnection"===e?"connectEnd":"fetch"===e?"domainLookupStart":`${e}End`}(n),s=t[i],a=t[`${n}Start`];a&&s&&Aa(e,r+Pa(a),r+Pa(s),{op:`browser.${o}`,name:t.name,attributes:{[Pn]:"auto.ui.browser.metrics",..."redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{}}})}function Za(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}const Xa=[],Ka=new Map;function Qa(){if(Na()&&Vt()){const e=wa(tc);return()=>{e()}}return()=>{}}const ec={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},tc=({metric:e})=>{if(null==e.value)return;const t=Pa(e.value);if(t>60)return;const n=e.entries.find(t=>t.duration===e.value&&ec[t.name]);if(!n)return;const{interactionId:r}=n,o=ec[n.name],i=Pa(Vt()+n.startTime),s=Er(),a=s?kr(s):void 0,c=(null!=r?Ka.get(r):void 0)||a,u=c?gr(c).description:cn().getScopeData().transactionName,l=Da({name:mt(n.target),transaction:u,attributes:{[Pn]:"auto.http.browser.inp",[Nn]:`ui.interaction.${o}`,[Un]:n.duration},startTime:i});l&&(l.addEvent("inp",{[jn]:"millisecond",[Bn]:e.value}),l.end(i+t))},nc=({entries:e})=>{const t=Er(),n=t?kr(t):void 0,r=n?gr(n).description:cn().getScopeData().transactionName;e.forEach(e=>{const t=e;if(!t.identifier)return;const n=t.name,o=t.renderTime,i=t.loadTime,[s,a]=i?[Pa(i),"load-time"]:o?[Pa(o),"render-time"]:[Ht(),"entry-emission"],c="image-paint"===n?Pa(Math.max(0,(o??0)-(i??0))):0,u={[Pn]:"auto.ui.browser.elementtiming",[Nn]:"ui.elementtiming",[On]:"component","sentry.span_start_time_source":a,"sentry.transaction_name":r,"element.id":t.id,"element.type":t.element?.tagName?.toLowerCase()||"unknown","element.size":t.naturalWidth&&t.naturalHeight?`${t.naturalWidth}x${t.naturalHeight}`:void 0,"element.render_time":o,"element.load_time":i,"element.url":t.url||void 0,"element.identifier":t.identifier,"element.paint_type":n};!function(e,t){const n=Cs();if(n.startSpan)return n.startSpan(e,t);const r=Ts(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();ln(a,()=>Ls(i)(()=>{const n=cn(),s=Rs(n,i),a=e.onlyIfParent&&!s?new ys:Is({parentSpan:s,spanArguments:r,forceTransaction:o,scope:n});return Kt(n,a),ws(()=>t(a),()=>{const{status:e}=gr(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:2,message:"internal_error"})},()=>{a.end()})}))}({name:`element[${t.identifier}]`,attributes:u,startTime:s,onlyIfParent:!0},e=>{e.end(s+c)})})},rc="sentry_previous_trace",oc="sentry.previous_trace";function ic(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r="session-storage"===t;let o=r?function(){try{const e=$o.sessionStorage?.getItem(rc);return JSON.parse(e)}catch{return}}():void 0;e.on("spanStart",e=>{if(kr(e)!==e)return;const t=cn().getPropagationContext();o=function(e,t,n){const r=gr(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[An])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;const s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=3600&&(Ci&&qe.log(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[zn]:"previous_trace"}}),t.setAttribute(oc,`${s.traceId}-${s.spanId}-${sc(s)?1:0}`)),i)}(o,e,t),r&&function(e){try{$o.sessionStorage.setItem(rc,JSON.stringify(e))}catch(e){Ci&&qe.warn("Could not store previous trace in sessionStorage",e)}}(o)});let i=!0;n&&e.on("beforeSampling",e=>{if(!o)return;const t=cn(),n=t.getPropagationContext();i&&n.parentSpanId?i=!1:(t.setPropagationContext({...n,dsc:{...n.dsc,sample_rate:String(o.sampleRate),sampled:String(sc(o.spanContext))},sampleRand:o.sampleRand}),e.parentSampled=sc(o.spanContext),e.parentSampleRate=o.sampleRate,e.spanAttributes={...e.spanAttributes,[Dn]:o.sampleRate})})}function sc(e){return 1===e.traceFlags}function ac(e={}){const t=e.client||dn();if(!function(){const e=dn();return!1!==e?.getOptions().enabled&&!!e?.getTransport()}()||!t)return{};const n=an(Be());if(n.getTraceData)return n.getTraceData(e);const r=e.scope||cn(),o=e.span||Er(),i=o?function(e){const{traceId:t,spanId:n}=e.spanContext();return ur(t,n,yr(e))}(o):function(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ur(t,r,n)}(r),s=Yn(o?Rr(o):Mr(t,r));return ar.test(i)?{"sentry-trace":i,baggage:s}:(qe.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function cc(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;const{method:i,url:s}=e.fetchData,a=tr()&&t(s);if(e.endTimestamp&&a){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(function(e,t){if(t.response){nr(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(n,e),delete r[t]))}const c=!!Er(),u=a&&c?Es(function(e,t,n){const r=pi(e);return{name:r?`${t} ${hi(r)}`:t,attributes:lc(e,r,t,n)}}(s,i,o)):new ys;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){const t=e.args[0],n=e.args[1]||{},r=function(e,t,n){const r=ac({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;const s=t.headers||(ht(e)?e.headers:void 0);if(s){if(function(e){return"undefined"!=typeof Headers&&dt(e,Headers)}(s)){const e=new Headers(s);if(e.get("sentry-trace")||e.set("sentry-trace",o),i){const t=e.get("baggage");t?uc(t)||e.set("baggage",`${t},${i}`):e.set("baggage",i)}return e}if(Array.isArray(s)){const e=[...s];s.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",o]);const t=s.find(e=>"baggage"===e[0]&&uc(e[1]));return i&&!t&&e.push(["baggage",i]),e}{const e="sentry-trace"in s?s["sentry-trace"]:void 0,t="baggage"in s?s.baggage:void 0,n=t?Array.isArray(t)?[...t]:[t]:[],r=t&&(Array.isArray(t)?t.find(e=>uc(e)):uc(t));return i&&!r&&n.push(i),{...s,"sentry-trace":e??o,baggage:n.length>0?n.join(","):void 0}}}return{...r}}(t,n,tr()&&c?u:void 0);r&&(e.args[1]=n,n.headers=r)}const l=dn();if(l){const t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};l.emit("beforeOutgoingRequestSpan",u,t)}return u}function uc(e){return e.split(",").some(e=>e.trim().startsWith(Hn))}function lc(e,t,n,r){const o={url:e,type:"fetch","http.method":n,[Pn]:r,[Nn]:"http.client"};return t&&(di(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function dc(e=0){return((Vt()||performance.timeOrigin)+e)/1e3}const pc=new WeakMap,hc=new Map,fc={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function mc(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...fc,...t},u="function"==typeof i?i:e=>!0,l=e=>function(e,t){const n=yt();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}const i=r.origin===o;return t?wt(r.toString(),t)||i&&wt(r.pathname,t):i}{const n=!!e.match(/^\/(?!\/)/);return t?wt(e,t):n}}(e,a),d={};n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){const t=hc.get(e.span_id);t&&(e.timestamp=t/1e3,hc.delete(e.span_id))}}),e)),o&&function(e){const t="fetch-body-resolved";qo(t,e),Jo(t,()=>ni(ri))}(e=>{if(e.response){const t=pc.get(e.response);t&&e.endTimestamp&&hc.set(t,e.endTimestamp)}}),ti(e=>{const t=cc(e,u,l,d);if(e.response&&e.fetchData.__span&&pc.set(e.response,e.fetchData.__span),t){const n=yc(e.fetchData.url),r=n?fi(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r}),s&&gc(t),c?.(t,{headers:e.headers})}})),r&&ki(e=>{const t=function(e,t,n,r){const o=e.xhr,i=o?.[wi];if(!o||o.__sentry_own_request__||!i)return;const{url:s,method:a}=i,c=tr()&&t(s);if(e.endTimestamp&&c){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&(nr(t,i.status_code),t.end(),delete r[e]))}const u=yc(s),l=fi(u||s),d=s.split(/[?#]/,1)[0],p=!!Er(),h=c&&p?Es({name:`${a} ${d}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":u,"server.address":l?.host,[Pn]:"auto.http.browser",[Nn]:"http.client",...l?.search&&{"http.query":l?.search},...l?.hash&&{"http.fragment":l?.hash}}}):new ys;o.__sentry_xhr_span_id__=h.spanContext().spanId,r[o.__sentry_xhr_span_id__]=h,n(s)&&function(e,t){const{"sentry-trace":n,baggage:r}=ac({span:t});n&&function(e,t,n){const r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){const t=r?.baggage;t&&t.split(",").some(e=>e.trim().startsWith("sentry-"))||e.setRequestHeader("baggage",n)}}catch{}}(e,n,r)}(o,tr()&&p?h:void 0);const f=dn();return f&&f.emit("beforeOutgoingRequestSpan",h,e),h}(e,u,l,d);if(t){let n;s&&gc(t);try{n=new Headers(e.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(t,{headers:n})}})}function gc(e){const{url:t}=gr(e).data;if(!t||"string"!=typeof t)return;const n=ka("resource",({entries:r})=>{r.forEach(r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){const t=function(e){const t=[];if(null!=e.nextHopProtocol){const{name:n,version:r}=Fa(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return Vt()?[...t,["http.request.redirect_start",dc(e.redirectStart)],["http.request.fetch_start",dc(e.fetchStart)],["http.request.domain_lookup_start",dc(e.domainLookupStart)],["http.request.domain_lookup_end",dc(e.domainLookupEnd)],["http.request.connect_start",dc(e.connectStart)],["http.request.secure_connection_start",dc(e.secureConnectionStart)],["http.request.connection_end",dc(e.connectEnd)],["http.request.request_start",dc(e.requestStart)],["http.request.response_start",dc(e.responseStart)],["http.request.response_end",dc(e.responseEnd)]]:t}(r);t.forEach(t=>e.setAttribute(...t)),setTimeout(n)}})})}function yc(e){try{return new URL(e,$o.location.origin).href}catch{return}}const vc={...Os,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...fc},_c=(e={})=>{const t={name:void 0,source:void 0},n=$o.document,{enableInp:r,enableElementTiming:o,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:l,idleTimeout:d,finalTimeout:p,childSpanTimeout:h,markBackgroundSpan:f,traceFetch:m,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:v,enableHTTPTimings:_,ignoreResourceSpans:b,ignorePerformanceApiSpans:S,instrumentPageLoad:w,instrumentNavigation:k,detectRedirects:E,linkPreviousTrace:x,consistentTraceSampling:I,onRequestSpanStart:T}={...vc,...e};let C,M;function R(e,r,o=!0){const i="pageload"===r.op,s=l?l(r):r,a=s.attributes||{};if(r.name!==s.name&&(a[On]="custom",s.attributes=a),!o){const e=Wt();return void Es({...s,startTime:e}).end(e)}t.name=s.name,t.source=a[On];const f=As(s,{idleTimeout:d,finalTimeout:p,childSpanTimeout:h,disableAutoFinish:i,beforeSpanEnd:t=>{C?.(),qa(t,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:b,ignorePerformanceApiSpans:S}),kc(e,void 0);const n=cn(),r=n.getPropagationContext();n.setPropagationContext({...r,traceId:f.spanContext().traceId,sampled:yr(f),dsc:Rr(t)})}});function m(){n&&["interactive","complete"].includes(n.readyState)&&e.emit("idleSpanEnableAutoFinish",f)}kc(e,f),i&&n&&(n.addEventListener("readystatechange",()=>{m()}),m())}return{name:"BrowserTracing",setup(e){if(function(){function e(){const e=Er(),t=e&&kr(e);if(t){const e="internal_error";Pe&&qe.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:2,message:e})}}Ds||(e.tag="sentry_tracingErrorCallback",Ds=!0,ji(e),Wi(e))}(),C=Ya({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:e}),r&&Qa(),o&&Na()&&Vt()&&ka("element",nc),s&&je.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(e=>{const t=Er();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=Pa(Vt()+n.startTime),{start_timestamp:r,op:o}=gr(t);if("navigation"===o&&r&&e<r)continue;const i=Pa(n.duration),s={[Pn]:"auto.ui.browser.metrics"},a=n.scripts[0],{invoker:c,invokerType:u,sourceURL:l,sourceFunctionName:d,sourceCharPosition:p}=a;s["browser.script.invoker"]=c,s["browser.script.invoker_type"]=u,l&&(s["code.filepath"]=l),d&&(s["code.function"]=d),-1!==p&&(s["browser.script.source_char_position"]=p),Aa(t,e,e+i,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:s})}}).observe({type:"long-animation-frame",buffered:!0}):i&&ka("longtask",({entries:e})=>{const t=Er();if(!t)return;const{op:n,start_timestamp:r}=gr(t);for(const o of e){const e=Pa(Vt()+o.startTime),i=Pa(o.duration);"navigation"===n&&r&&e<r||Aa(t,e,e+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Pn]:"auto.ui.browser.metrics"}})}}),a&&ka("event",({entries:e})=>{const t=Er();if(t)for(const n of e)if("click"===n.name){const e=Pa(Vt()+n.startTime),r=Pa(n.duration),o={name:mt(n.target),op:`ui.interaction.${n.name}`,startTime:e,attributes:{[Pn]:"auto.ui.browser.metrics"}},i=vt(n.target);i&&(o.attributes["ui.component_name"]=i),Aa(t,e,e+r,o)}}),E&&n){const e=()=>{M=Ht()};addEventListener("click",e,{capture:!0}),addEventListener("keydown",e,{capture:!0,passive:!0})}function t(){const t=wc(e);t&&!gr(t).timestamp&&(Ci&&qe.log(`[Tracing] Finishing current active span with op: ${gr(t).op}`),t.setAttribute(Fn,"cancelled"),t.end())}e.on("startNavigationSpan",(n,r)=>{if(dn()!==e)return;if(r?.isRedirect)return Ci&&qe.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),void R(e,{op:"navigation.redirect",...n},!1);t(),un().setPropagationContext({traceId:Jt(),sampleRand:Math.random()});const o=cn();o.setPropagationContext({traceId:Jt(),sampleRand:Math.random()}),o.setSDKProcessingMetadata({normalizedRequest:void 0}),R(e,{op:"navigation",...n})}),e.on("startPageLoadSpan",(n,r={})=>{if(dn()!==e)return;t();const o=cr(r.sentryTrace||bc("sentry-trace"),r.baggage||bc("baggage")),i=cn();i.setPropagationContext(o),i.setSDKProcessingMetadata({normalizedRequest:Ho()}),R(e,{op:"pageload",...n})})},afterAllSetup(e){let n=yt();if("off"!==x&&ic(e,{linkPreviousTrace:x,consistentTraceSampling:I}),$o.location){if(w){const t=Vt();!function(e,t,n){e.emit("startPageLoadSpan",t,n),cn().setTransactionName(t.name);const r=wc(e);r&&e.emit("afterStartPageLoadSpan",r)}(e,{name:$o.location.pathname,startTime:t?t/1e3:void 0,attributes:{[On]:"url",[Pn]:"auto.pageload.browser"}})}k&&Ii(({to:t,from:r})=>{if(void 0===r&&-1!==n?.indexOf(t))return void(n=void 0);n=void 0;const o=pi(t),i=wc(e),s=i&&E&&function(e,t){const n=gr(e),r=Wt();return!(r-n.start_timestamp>Ec||t&&r-t<=Ec)}(i,M);!function(e,t,n){const{url:r,isRedirect:o}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:o}),e.emit("startNavigationSpan",t,{isRedirect:o});const i=cn();i.setTransactionName(t.name),r&&!o&&i.setSDKProcessingMetadata({normalizedRequest:{...Ho(),url:r}}),wc(e)}(e,{name:o?.pathname||$o.location.pathname,attributes:{[On]:"url",[Pn]:"auto.navigation.browser"}},{url:t,isRedirect:s})})}f&&($o.document?$o.document.addEventListener("visibilitychange",()=>{const e=Er();if(!e)return;const t=kr(e);if($o.document.hidden&&t){const e="cancelled",{op:n,status:r}=gr(t);Ci&&qe.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus({code:2,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Ci&&qe.warn("[Tracing] Could not set up background tab detection due to lack of global document")),a&&function(e,t,n,r,o){let i;const s=()=>{const s="ui.action.click",a=wc(e);if(a){const e=gr(a).op;if(["navigation","pageload"].includes(e))return void(Ci&&qe.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`))}i&&(i.setAttribute(Fn,"interactionInterrupted"),i.end(),i=void 0),o.name?i=As({name:o.name,op:s,attributes:{[On]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r}):Ci&&qe.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`)};$o.document&&addEventListener("click",s,{capture:!0})}(e,d,p,h,t),r&&function(){const e=({entries:e})=>{const t=Er(),n=t&&kr(t);e.forEach(e=>{if(!function(e){return"duration"in e}(e)||!n)return;const t=e.interactionId;if(null!=t&&!Ka.has(t)){if(Xa.length>10){const e=Xa.shift();Ka.delete(e)}Xa.push(t),Ka.set(t,n)}})};ka("event",e),ka("first-input",e)}(),mc(e,{traceFetch:m,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:v,enableHTTPTimings:_,onRequestSpanStart:T})}}};function bc(e){const t=$o.document,n=t?.querySelector(`meta[name=${e}]`);return n?.getAttribute("content")||void 0}const Sc="_sentry_idleSpan";function wc(e){return e[Sc]}function kc(e,t){Et(e,Sc,t)}const Ec=.3;function xc(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,n)||function(e,t){return!!t&&Ic(e)===Ic(t)}(e,r)}function Ic(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function Tc(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function Cc(){return"undefined"!=typeof window&&(!Tc()||function(){const e=je.process;return"renderer"===e?.type}())}function Mc(e){return new URLSearchParams(e).toString()}function Rc(e,t=qe){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Mc(e)];if(!e)return[void 0]}catch(n){return ls&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ls&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Lc(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}const Oc=je,Ac="sentryReplaySession",Dc="Unable to send Replay",Nc=15e4,Pc=5e3,Fc=2e7,jc=36e5;var Bc=Object.defineProperty,$c=(e,t,n)=>((e,t,n)=>t in e?Bc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),Wc=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Wc||{});function Uc(e){const t=e?.host;return Boolean(t?.shadowRoot===e)}function zc(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Hc(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,Vc).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function Vc(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=Hc(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)){let t=e.cssText;const n=e.selectorText.includes(":"),r="string"==typeof e.style.all&&e.style.all;if(r&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}(e)),n&&(t=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(t)),n||r)return t}return t||e.cssText}class Gc{constructor(){$c(this,"idNodeMap",new Map),$c(this,"nodeMetaMap",new WeakMap)}getId(e){if(!e)return-1;const t=this.getMeta(e)?.id;return t??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Yc({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function qc({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Jc(e){return e.toLowerCase()}function Zc(e){return e.toUpperCase()}const Xc="__rrweb_original__";function Kc(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Jc(t):null}function Qc(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function eu(e,t){let n;try{n=new URL(e,t??window.location.href)}catch(e){return null}const r=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return r?.[1]??null}const tu={};function nu(e){const t=tu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return tu[e]=r.bind(window)}function ru(...e){return nu("setTimeout")(...e)}function ou(...e){return nu("clearTimeout")(...e)}function iu(e){try{return e.contentDocument}catch(e){}}let su=1;const au=new RegExp("[^a-z0-9-_:]");function cu(){return su++}let uu,lu;const du=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,pu=/^(?:[a-z+]+:)?\/\//i,hu=/^www\..*/i,fu=/^(data:)([^,]*),(.*)/i;function mu(e,t){return(e||"").replace(du,(e,n,r,o,i,s)=>{const a=r||i||s,c=n||o||"";if(!a)return e;if(pu.test(a)||hu.test(a))return`url(${c}${a}${c})`;if(fu.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const u=t.split("/"),l=a.split("/");u.pop();for(const e of l)"."!==e&&(".."===e?u.pop():u.push(e));return`url(${c}${u.join("/")}${c})`})}const gu=/^[^ \t\n\r\u000c]+/,yu=/^[, \t\n\r\u000c]+/,vu=new WeakMap;function _u(e,t){return t&&""!==t.trim()?Su(e,t):t}function bu(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Su(e,t){let n=vu.get(e);if(n||(n=e.createElement("a"),vu.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function wu(e,t,n,r,o,i){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?_u(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r(yu),!(n>=t.length);){let i=r(gu);if(","===i.slice(-1))i=_u(e,i.substring(0,i.length-1)),o.push(i);else{let r="";i=_u(e,i);let s=!1;for(;;){const e=t.charAt(n);if(""===e){o.push((i+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,o.push((i+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return o.join(", ")}(e,r):"style"===n?mu(r,Su(e)):"object"===t&&"data"===n?_u(e,r):"function"==typeof i?i(n,r,o):r:_u(e,r):r}function ku(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Eu(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}function xu(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:xu(e.parentNode,t,n,r+1):-1}function Iu(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch{return!1}}}function Tu(e,t,n,r,o,i){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===s)return!1;if("INPUT"===s.tagName){const e=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,c=-1;if(i){if(c=xu(s,Iu(r,o)),c<0)return!0;a=xu(s,Iu(t,n),c>=0?c:1/0)}else{if(a=xu(s,Iu(t,n)),a<0)return!1;c=xu(s,Iu(r,o),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0||!i)}catch(e){}return!!i}function Cu(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S=!1}=t,w=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:Wc.Document,childNodes:[],compatMode:e.compatMode}:{type:Wc.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Wc.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:m,maskTextClass:g,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:_}=t,b=Eu(e,r,o,i),S=function(e){if(e instanceof HTMLFormElement)return"form";const t=Jc(e.tagName);return au.test(t)?"div":t}(e);let w={};const k=e.attributes.length;for(let t=0;t<k;t++){const r=e.attributes[t];r.name&&!ku(S,r.name,r.value)&&(w[r.name]=wu(n,S,Jc(r.name),r.value,e,c))}if("link"===S&&s){const t=Array.from(n.styleSheets).find(t=>t.href===e.href);let r=null;t&&(r=Hc(t)),r&&(w.rel=null,w.href=null,w.crossorigin=null,w._cssText=mu(r,t.href))}if("style"===S&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=Hc(e.sheet);t&&(w._cssText=mu(t,Su(n)))}if("input"===S||"textarea"===S||"select"===S||"option"===S){const t=e,n=Kc(t),r=Qc(t,Zc(S),n),o=t.checked;if("submit"!==n&&"button"!==n&&r){const e=Tu(t,g,v,y,_,Yc({type:n,tagName:Zc(S),maskInputOptions:a}));w.value=qc({isMasked:e,element:t,value:r,maskInputFn:u})}o&&(w.checked=o)}if("option"===S&&(e.selected&&!a.select?w.selected=!0:delete w.selected),"canvas"===S&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const o=t.getImageData,i=Xc in o?o[Xc]:o;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0})(e)||(w.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const t=e.toDataURL(l.type,l.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height,t!==r.toDataURL(l.type,l.quality)&&(w.rr_dataURL=t)}if("img"===S&&d){uu||(uu=n.createElement("canvas"),lu=uu.getContext("2d"));const t=e,r=t.currentSrc||t.getAttribute("src")||"<unknown-src>",o=t.crossOrigin,i=()=>{t.removeEventListener("load",i);try{uu.width=t.naturalWidth,uu.height=t.naturalHeight,lu.drawImage(t,0,0),w.rr_dataURL=uu.toDataURL(l.type,l.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i));console.warn(`Cannot inline img src=${r}! Error: ${e}`)}"anonymous"===t.crossOrigin&&(o?w.crossOrigin=o:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}if("audio"!==S&&"video"!==S||(w.rr_mediaState=e.paused?"paused":"played",w.rr_mediaCurrentTime=e.currentTime),f||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop)),b){const{width:t,height:n}=e.getBoundingClientRect();w={class:w.class,rr_width:`${t}px`,rr_height:`${n}px`}}let E;"iframe"!==S||h(w.src)||(b||iu(e)||(w.rr_src=w.src),delete w.src);try{customElements.get(S)&&(E=!0)}catch(e){}return{type:Wc.Element,tagName:S,attributes:w,childNodes:[],isSVG:bu(e)||void 0,needBlock:b,rootId:m,isCustom:E}}(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S,rootId:w,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const h="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(h&&p){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(p=Hc(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=mu(p,Su(t.doc))}f&&(p="SCRIPT_PLACEHOLDER");const g=Tu(e,r,i,o,s,n);return h||f||m||!p||!g||(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),m&&p&&(c.textarea||g)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),"OPTION"===d&&p&&(p=qc({isMasked:Tu(e,r,i,o,s,Yc({type:null,tagName:d,maskInputOptions:c})),element:e,value:p,maskInputFn:u})),{type:Wc.Text,textContent:p||"",isStyle:h,rootId:l}}(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:w});case e.CDATA_SECTION_NODE:return{type:Wc.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:Wc.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function Mu(e){return null==e?"":e.toLowerCase()}function Ru(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:E=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:C=!1}=t;let{preserveWhiteSpace:M=!0}=t;const R=Cu(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,keepIframeSrcFn:T,newlyAddedElement:C});if(!R)return console.warn(e,"not serialized"),null;let L;L=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===Wc.Comment)return!0;if(e.type===Wc.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===eu(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(Mu(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Mu(e.attributes.name)||"icon"===Mu(e.attributes.rel)||"apple-touch-icon"===Mu(e.attributes.rel)||"shortcut icon"===Mu(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&Mu(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Mu(e.attributes.property).match(/^(og|twitter|fb):/)||Mu(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===Mu(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===Mu(e.attributes.name)||"googlebot"===Mu(e.attributes.name)||"bingbot"===Mu(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===Mu(e.attributes.name)||"generator"===Mu(e.attributes.name)||"framework"===Mu(e.attributes.name)||"publisher"===Mu(e.attributes.name)||"progid"===Mu(e.attributes.name)||Mu(e.attributes.property).match(/^article:/)||Mu(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===Mu(e.attributes.name)||"yandex-verification"===Mu(e.attributes.name)||"csrf-token"===Mu(e.attributes.name)||"p:domain_verify"===Mu(e.attributes.name)||"verify-v1"===Mu(e.attributes.name)||"verification"===Mu(e.attributes.name)||"shopify-checkout-api-token"===Mu(e.attributes.name)))return!0}}return!1}(R,v)&&(M||R.type!==Wc.Text||R.isStyle||R.textContent.replace(/^\s+|\s+$/gm,"").length)?cu():-2;const O=Object.assign(R,{id:L});if(r.add(e,O),-2===L)return null;w&&w(e);let A=!p;if(O.type===Wc.Element){A=A&&!O.needBlock,delete O.needBlock;const t=e.shadowRoot;t&&zc(t)&&(O.isShadowHost=!0)}if((O.type===Wc.Document||O.type===Wc.Element)&&A){v.headWhitespace&&O.type===Wc.Element&&"head"===O.tagName&&(M=!1);const t={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:I,keepIframeSrcFn:T};for(const n of Array.from(e.childNodes)){const e=Ru(n,t);e&&O.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=Ru(n,t);r&&(zc(e.shadowRoot)&&(r.isShadow=!0),O.childNodes.push(r))}}return e.parentNode&&Uc(e.parentNode)&&zc(e.parentNode)&&(O.isShadow=!0),O.type!==Wc.Element||"iframe"!==O.tagName||Eu(e,o,i,s)||function(e,t,n){const r=e.contentWindow;if(!r)return;let o,i=!1;try{o=r.document.readyState}catch(e){return}if("complete"!==o){const r=ru(()=>{i||(t(),i=!0)},n);return void e.addEventListener("load",()=>{ou(r),i=!0,t()})}const s="about:blank";if(r.location.href!==s||e.src===s||""===e.src)return ru(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{const t=iu(e);if(t&&k){const n=Ru(t,{doc:t,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:I,keepIframeSrcFn:T});n&&k(e,n)}},E),O.type===Wc.Element&&"link"===O.tagName&&"string"==typeof O.attributes.rel&&("stylesheet"===O.attributes.rel||"preload"===O.attributes.rel&&"string"==typeof O.attributes.href&&"css"===eu(O.attributes.href))&&function(e,t,n){let r,o=!1;try{r=e.sheet}catch(e){return}if(r)return;const i=ru(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{ou(i),o=!0,t()})}(e,()=>{if(x){const t=Ru(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:I,keepIframeSrcFn:T});t&&x(e,t)}},I),O}function Lu(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Ou="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Au={map:{},getId:()=>(console.error(Ou),-1),getNode:()=>(console.error(Ou),null),removeNodeFromMap(){console.error(Ou)},has:()=>(console.error(Ou),!1),reset(){console.error(Ou)}};function Du(e,t,n={}){let r=null,o=0;return function(...i){const s=Date.now();o||!1!==n.leading||(o=s);const a=t-(s-o),c=this;a<=0||a>t?(r&&(function(...e){el("clearTimeout")(...e)}(r),r=null),o=s,e.apply(c,i)):r||!1===n.trailing||(r=tl(()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(c,i)},a))}}function Nu(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){tl(()=>{n.set.call(this,e)},0),i&&i.set&&i.set.call(this,e)}}),()=>Nu(e,t,i||{},!0)}function Pu(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Au=new Proxy(Au,{get:(e,t,n)=>("map"===t&&console.error(Ou),Reflect.get(e,t,n))}));let Fu=Date.now;function ju(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Bu(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function $u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Wu(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(e){return null}}function Uu(e,t,n,r,o){if(!e)return!1;const i=Wu(e);if(!i)return!1;const s=Iu(t,n);if(!o){const e=r&&i.matches(r);return s(i)&&!e}const a=xu(i,s);let c=-1;return!(a<0)&&(r&&(c=xu(i,Iu(null,r))),a>-1&&c<0||a<c)}function zu(e,t){return-2===t.getId(e)}function Hu(e,t){if(Uc(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||Hu(e.parentNode,t))}function Vu(e){return Boolean(e.changedTouches)}function Gu(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Yu(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function qu(e){return Boolean(e?.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(Fu=()=>(new Date).getTime());class Ju{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Zu(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Xu(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=Zu(n);)n=t;return n}(e);return t.contains(n)}function Ku(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||Xu(e))}const Qu={};function el(e){const t=Qu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return Qu[e]=r.bind(window)}function tl(...e){return el("setTimeout")(...e)}var nl=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(nl||{}),rl=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(rl||{}),ol=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ol||{}),il=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(il||{}),sl=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(sl||{});function al(e){try{return e.contentDocument}catch(e){}}function cl(e){return"__ln"in e}class ul{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=t?.next||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&cl(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&cl(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const ll=(e,t)=>`${e}@${t}`;class dl{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new ul,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!Ku(o))return;const i=Uc(o.parentNode)?this.mirror.getId(Zu(o)):this.mirror.getId(o.parentNode),s=r(o);if(-1===i||-1===s)return n.addNode(o);const a=Ru(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{Gu(e,this.mirror)&&!Uu(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),Yu(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),qu(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{Uu(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:i,nextId:s,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)hl(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||o(e);for(const e of this.addedSet)fl(this.droppedSet,e)||hl(this.removes,e,this.mirror)?fl(this.movedSet,e)?o(e):this.droppedSet.add(e):o(e);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),o(e.value)}const s={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!zu(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;Uu(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:Tu(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,Wu(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=Kc(t),o=t.tagName;r=Qc(t,o,n);const i=Yc({maskInputOptions:this.maskInputOptions,tagName:o,type:n});r=qc({isMasked:Tu(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:t,value:r,maskInputFn:this.maskInputFn})}if(Uu(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(al(t))return;n="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!ku(t.tagName,n)&&(o.attributes[n]=wu(this.doc,Jc(t.tagName),Jc(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),i=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||i!==n.style.getPropertyPriority(e)?o.styleDiff[e]=""===i?r:[r,i]:o._unchangedStyles[e]=[r,i]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(Uu(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const n=this.mirror.getId(t),r=Uc(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Uu(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||zu(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(pl(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||Hu(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[ll(n,r)]?pl(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!Uc(e.target)||!zc(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(zu(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[ll(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Uu(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(e=>this.genAdds(e)),qu(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function pl(e,t){e.delete(t),t.childNodes.forEach(t=>pl(e,t))}function hl(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){const t=n.getId(r);if(e.some(e=>e.id===t))return!0;r=r.parentNode}return!1}(e,t,n)}function fl(e,t){return 0!==e.size&&ml(e,t)}function ml(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||ml(e,n))}let gl;const yl=e=>gl?(...t)=>{try{return e(...t)}catch(e){if(gl&&!0===gl(e))return()=>{};throw e}}:e,vl=[];function _l(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function bl(e,t){const n=new dl;vl.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);const i=new r(yl(t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Sl({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,c=[];let u=null;return Object.keys(ol).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e]).forEach(s=>{let a=Jc(s);const l=(t=>s=>{const a=_l(s);if(Uu(a,r,o,i,!0))return;let c=null,l=t;if("pointerType"in s){switch(s.pointerType){case"mouse":c=il.Mouse;break;case"touch":c=il.Touch;break;case"pen":c=il.Pen}c===il.Touch?ol[t]===ol.MouseDown?l="TouchStart":ol[t]===ol.MouseUp&&(l="TouchEnd"):il.Pen}else Vu(s)&&(c=il.Touch);null!==c?(u=c,(l.startsWith("Touch")&&c===il.Touch||l.startsWith("Mouse")&&c===il.Mouse)&&(c=null)):ol[t]===ol.Click&&(c=u,u=null);const d=Vu(s)?s.changedTouches[0]:s;if(!d)return;const p=n.getId(a),{clientX:h,clientY:f}=d;yl(e)({type:ol[l],id:p,x:h,y:f,...null!==c&&{pointerType:c}})})(s);if(window.PointerEvent)switch(ol[s]){case ol.MouseDown:case ol.MouseUp:a=a.replace("mouse","pointer");break;case ol.TouchStart:case ol.TouchEnd:return}c.push(Lu(a,l,t))}),yl(()=>{c.forEach(e=>e())})}function wl({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){return Lu("scroll",yl(Du(yl(s=>{const a=_l(s);if(!a||Uu(a,r,o,i,!0))return;const c=n.getId(a);if(a===t&&t.defaultView){const n=ju(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:a.scrollLeft,y:a.scrollTop})}),s.scroll||100)),t)}const kl=["INPUT","TEXTAREA","SELECT"],El=new WeakMap;function xl({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m}){function g(e){let n=_l(e);const l=e.isTrusted,g=n&&Zc(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||kl.indexOf(g)<0||Uu(n,r,o,i,!0))return;const v=n;if(v.classList.contains(s)||a&&v.matches(a))return;const _=Kc(n);let b=Qc(v,g,_),S=!1;const w=Yc({maskInputOptions:c,tagName:g,type:_}),k=Tu(n,p,f,h,m,w);"radio"!==_&&"checkbox"!==_||(S=n.checked),b=qc({isMasked:k,element:n,value:b,maskInputFn:u}),y(n,d?{text:b,isChecked:S,userTriggered:l}:{text:b,isChecked:S});const E=n.name;"radio"===_&&E&&S&&t.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach(e=>{if(e!==n){const t=qc({isMasked:k,element:e,value:Qc(e,g,_),maskInputFn:u});y(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}})}function y(t,r){const o=El.get(t);if(!o||o.text!==r.text||o.isChecked!==r.isChecked){El.set(t,r);const o=n.getId(t);yl(e)({...r,id:o})}}const v=("last"===l.input?["change"]:["input","change"]).map(e=>Lu(e,yl(g),t)),_=t.defaultView;if(!_)return()=>{v.forEach(e=>e())};const b=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),S=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&v.push(...S.map(e=>Nu(e[0],e[1],{set(){yl(g)({target:this,isTrusted:!1})}},!1,_))),yl(()=>{v.forEach(e=>e())})}function Il(e){return function(e,t){if(Rl("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Rl("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Rl("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Rl("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Tl(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function Cl({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const o="#document"===n.nodeName?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&o&&i?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(e){const n=i.set?.call(this,e);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),yl(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})})):()=>{}}function Ml(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=bl(e,e.doc));const o=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const o="number"==typeof t.mousemove?t.mousemove:50,i="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const c=Du(yl(t=>{const n=Date.now()-s;e(a.map(e=>(e.timeOffset-=n,e)),t),a=[],s=null}),i),u=yl(Du(yl(e=>{const t=_l(e),{clientX:n,clientY:o}=Vu(e)?e.changedTouches[0]:e;s||(s=Fu()),a.push({x:n,y:o,id:r.getId(t),timeOffset:Fu()-s}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?rl.Drag:e instanceof MouseEvent?rl.MouseMove:rl.TouchMove)}),o,{trailing:!1})),l=[Lu("mousemove",u,n),Lu("touchmove",u,n),Lu("drag",u,n)];return yl(()=>{l.forEach(e=>e())})}(e),i=Sl(e),s=wl(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return Lu("resize",yl(Du(yl(()=>{const t=Bu(),o=$u();n===t&&r===o||(e({width:Number(o),height:Number(t)}),n=t,r=o)}),200)),t)}(e,{win:n}),c=xl(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){const a=yl(s=>Du(yl(i=>{const a=_l(i);if(!a||Uu(a,t,n,r,!0))return;const{currentTime:c,volume:u,muted:l,playbackRate:d}=a;e({type:s,id:o.getId(a),currentTime:c,volume:u,muted:l,playbackRate:d})}),i.media||500)),c=[Lu("play",a(sl.Play),s),Lu("pause",a(sl.Pause),s),Lu("seeked",a(sl.Seeked),s),Lu("volumechange",a(sl.VolumeChange),s),Lu("ratechange",a(sl.RateChange),s)];return yl(()=>{c.forEach(e=>e())})}(e);let l=()=>{},d=()=>{},p=()=>{},h=()=>{};e.recordDOM&&(l=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:yl((r,o,i)=>{const[s,a]=i,{id:c,styleId:u}=Tl(o,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:s,index:a}]}),r.apply(o,i)})});const i=r.CSSStyleSheet.prototype.deleteRule;let s,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:yl((r,o,i)=>{const[s]=i,{id:a,styleId:c}=Tl(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:s}]}),r.apply(o,i)})}),r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:yl((r,o,i)=>{const[s]=i,{id:a,styleId:c}=Tl(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replace:s}),r.apply(o,i)})})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:yl((r,o,i)=>{const[s]=i,{id:a,styleId:c}=Tl(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replaceSync:s}),r.apply(o,i)})}));const c={};Ll("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Ll("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Ll("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Ll("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([r,o])=>{u[r]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(u[r].insertRule,{apply:yl((r,o,i)=>{const[s,a]=i,{id:c,styleId:u}=Tl(o.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:s,index:[...Il(o),a||0]}]}),r.apply(o,i)})}),o.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:yl((r,o,i)=>{const[s]=i,{id:a,styleId:c}=Tl(o.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:[...Il(o),s]}]}),r.apply(o,i)})})}),yl(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule})})}(e,{win:n}),d=Cl(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:yl((o,s,a)=>{const[c,u,l]=a;if(n.has(c))return i.apply(s,[c,u,l]);const{id:d,styleId:p}=Tl(s.parentRule?.parentStyleSheet,t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:c,value:u,priority:l},index:Il(s.parentRule)}),o.apply(s,a)})});const s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:yl((o,i,a)=>{const[c]=a;if(n.has(c))return s.apply(i,[c]);const{id:u,styleId:l}=Tl(i.parentRule?.parentStyleSheet,t,r.styleMirror);return(u&&-1!==u||l&&-1!==l)&&e({id:u,styleId:l,remove:{property:c},index:Il(i.parentRule)}),o.apply(i,a)})}),yl(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}(e,{win:n}),e.collectFonts&&(h=function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(e,t,n){const r=new i(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const s=Pu(t.fonts,"add",function(t){return function(n){return tl(yl(()=>{const t=o.get(n);t&&(e(t),o.delete(n))}),0),t.apply(this,[n])}});return r.push(()=>{n.FontFace=i}),r.push(s),yl(()=>{r.forEach(e=>e())})}(e)));const f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e;let a=!0;const c=yl(()=>{const e=t.getSelection();if(!e||a&&e?.isCollapsed)return;a=e.isCollapsed||!1;const c=[],u=e.rangeCount||0;for(let t=0;t<u;t++){const s=e.getRangeAt(t),{startContainer:a,startOffset:u,endContainer:l,endOffset:d}=s;Uu(a,r,o,i,!0)||Uu(l,r,o,i,!0)||c.push({start:n.getId(a),startOffset:u,end:n.getId(l),endOffset:d})}s({ranges:c})});return c(),Lu("selectionchange",c)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?Pu(n.customElements,"define",function(e){return function(n,r,o){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,o])}}):()=>{}}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return yl(()=>{vl.forEach(e=>e.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),l(),d(),p(),h(),f(),m(),g.forEach(e=>e())})}function Rl(e){return void 0!==window[e]}function Ll(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ol{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let s=o.get(t);return s||(s=this.generateIdFn(),o.set(t,s),i.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);return"number"!=typeof t?t:r.get(t)||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class Al{constructor(){this.crossOriginIframeMirror=new Ol(cu),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Dl{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ol(cu),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ol(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const n=al(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case nl.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:nl.IncrementalSnapshot,data:{source:rl.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case nl.Meta:case nl.Load:case nl.DomContentLoaded:return!1;case nl.Plugin:return t;case nl.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case nl.IncrementalSnapshot:switch(t.data.source){case rl.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case rl.Drag:case rl.TouchMove:case rl.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case rl.ViewportResize:return!1;case rl.MediaInteraction:case rl.MouseInteraction:case rl.Scroll:case rl.CanvasMutation:case rl.Input:return this.replaceIds(t.data,e,["id"]),t;case rl.StyleSheetRule:case rl.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case rl.Font:return t;case rl.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case rl.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t.data.styles?.forEach(t=>{this.replaceStyleIds(t,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(const o of r)(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===Wc.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class Nl{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Pl{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!zc(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=bl({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(wl({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),tl(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Cl({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const t=al(e),n=function(e){try{return e.contentWindow}catch(e){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Pu(e.prototype,"attachShadow",function(e){return function(r){const o=e.call(this,r);return this.shadowRoot&&Ku(this)&&n.addShadowRoot(this.shadowRoot,t),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var Fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jl="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Bl=0;Bl<64;Bl++)jl[Fl.charCodeAt(Bl)]=Bl;class $l{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Wl{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ju,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,t)=>({rule:Vc(e),index:t}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Ul{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,function(...e){el("requestAnimationFrame")(...e)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let zl,Hl;try{if(2!==Array.from([1],e=>2*e)[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Vl=new Gc;function Gl(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,maxCanvasSize:S=null,packFn:w,sampling:k={},dataURLOptions:E={},mousemoveWait:x,recordDOM:I=!0,recordCanvas:T=!1,recordCrossOriginIframes:C=!1,recordAfter:M=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:R=!1,collectFonts:L=!1,inlineImages:O=!1,plugins:A,keepIframeSrcFn:D=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:P,onMutation:F,getCanvasManager:j}=e;gl=P;const B=!C||window.parent===window;let $=!1;if(!B)try{window.parent.document&&($=!1)}catch(e){$=!0}if(B&&!t)throw new Error("emit function is required");if(!B&&!$)return()=>{};void 0!==x&&void 0===k.mousemove&&(k.mousemove=x),Vl.reset();const W=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},U=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let z;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let H=0;const V=e=>{for(const t of A||[])t.eventProcessor&&(e=t.eventProcessor(e));return w&&!$&&(e=w(e)),e};zl=(e,o)=>{const i=e;if(i.timestamp=Fu(),!vl[0]?.isFrozen()||i.type===nl.FullSnapshot||i.type===nl.IncrementalSnapshot&&i.data.source===rl.Mutation||vl.forEach(e=>e.unfreeze()),B)t?.(V(i),o);else if($){const e={type:"rrweb",event:V(i),origin:window.location.origin,isCheckout:o};window.parent.postMessage(e,"*")}if(i.type===nl.FullSnapshot)z=i,H=0;else if(i.type===nl.IncrementalSnapshot){if(i.data.source===rl.Mutation&&i.data.isAttachIframe)return;H++;const e=r&&H>=r,t=n&&z&&i.timestamp-z.timestamp>n;(e||t)&&ee(!0)}};const G=e=>{zl({type:nl.IncrementalSnapshot,data:{source:rl.Mutation,...e}})},Y=e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.Scroll,...e}}),q=e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.CanvasMutation,...e}}),J=new Wl({mutationCb:G,adoptedStyleSheetCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.AdoptedStyleSheet,...e}})}),Z="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new Al:new Dl({mirror:Vl,mutationCb:G,stylesheetManager:J,recordCrossOriginIframes:C,wrappedEmit:zl});for(const e of A||[])e.getMirror&&e.getMirror({nodeMirror:Vl,crossOriginIframeMirror:Z.crossOriginIframeMirror,crossOriginIframeStyleMirror:Z.crossOriginIframeStyleMirror});const X=new Ul,K=function(e,t){try{return e?e(t):new $l}catch{return console.warn("Unable to initialize CanvasManager"),new $l}}(j,{mirror:Vl,win:window,mutationCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.CanvasMutation,...e}}),recordCanvas:T,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:S,sampling:k.canvas,dataURLOptions:E,errorHandler:P}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Nl:new Pl({mutationCb:G,scrollCb:Y,bypassOptions:{onMutation:F,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:W,dataURLOptions:E,maskAttributeFn:v,maskTextFn:b,maskInputFn:_,recordCanvas:T,inlineImages:O,sampling:k,slimDOMOptions:U,iframeManager:Z,stylesheetManager:J,canvasManager:K,keepIframeSrcFn:D,processedNodeManager:X},mirror:Vl}),ee=(e=!1)=>{if(!I)return;zl({type:nl.Meta,data:{href:window.location.href,width:$u(),height:Bu()}},e),J.reset(),Q.init(),vl.forEach(e=>e.lock());const t=function(e,t){const{mirror:n=new Gc,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:I=()=>!1}=t||{};return Ru(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:_,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:I,newlyAddedElement:!1})}(document,{mirror:Vl,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskAllInputs:W,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,slimDOM:U,dataURLOptions:E,recordCanvas:T,inlineImages:O,onSerialize:e=>{Gu(e,Vl)&&Z.addIframe(e),Yu(e,Vl)&&J.trackLinkElement(e),qu(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{Z.attachIframe(e,t),e.contentWindow&&K.addWindow(e.contentWindow),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{J.attachLinkElement(e,t)},keepIframeSrcFn:D});if(!t)return console.warn("Failed to snapshot the document");zl({type:nl.FullSnapshot,data:{node:t,initialOffset:ju(window)}}),vl.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&J.adoptStyleSheets(document.adoptedStyleSheets,Vl.getId(document))};Hl=ee;try{const e=[],t=e=>yl(Ml)({onMutation:F,mutationCb:G,mousemoveCb:(e,t)=>zl({type:nl.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.MouseInteraction,...e}}),scrollCb:Y,viewportResizeCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.ViewportResize,...e}}),inputCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.Input,...e}}),mediaInteractionCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.MediaInteraction,...e}}),styleSheetRuleCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.StyleSheetRule,...e}}),styleDeclarationCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.StyleDeclaration,...e}}),canvasMutationCb:q,fontCb:e=>zl({type:nl.IncrementalSnapshot,data:{source:rl.Font,...e}}),selectionCb:e=>{zl({type:nl.IncrementalSnapshot,data:{source:rl.Selection,...e}})},customElementCb:e=>{zl({type:nl.IncrementalSnapshot,data:{source:rl.CustomElement,...e}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:W,inlineStylesheet:f,sampling:k,recordDOM:I,recordCanvas:T,inlineImages:O,userTriggeredOnInput:R,collectFonts:L,doc:e,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,keepIframeSrcFn:D,blockSelector:i,unblockSelector:s,slimDOMOptions:U,dataURLOptions:E,mirror:Vl,iframeManager:Z,stylesheetManager:J,shadowDomManager:Q,processedNodeManager:X,canvasManager:K,ignoreCSSAttributes:N,plugins:A?.filter(e=>e.observer)?.map(e=>({observer:e.observer,options:e.options,callback:t=>zl({type:nl.Plugin,data:{plugin:e.name,payload:t}})}))||[]},{});Z.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}});const n=()=>{ee(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(Lu("DOMContentLoaded",()=>{zl({type:nl.DomContentLoaded,data:{}}),"DOMContentLoaded"===M&&n()})),e.push(Lu("load",()=>{zl({type:nl.Load,data:{}}),"load"===M&&n()},window))),()=>{e.forEach(e=>e()),X.destroy(),Hl=void 0,gl=void 0}}catch(e){console.warn(e)}}var Yl,ql;function Jl(e){return e>9999999999?e:1e3*e}function Zl(e){return e>9999999999?e/1e3:e}function Xl(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:nl.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Lr(t,10,1e3)}}),"console"===t.category)))}function Kl(e){return e.closest("button,a")||e}function Ql(e){const t=ed(e);return t&&t instanceof Element?Kl(t):t}function ed(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let td;function nd(e){return td||(td=[],kt(Oc,"open",function(e){return function(...t){if(td)try{td.forEach(e=>e())}catch{}return e.apply(Oc,t)}})),td.push(e),()=>{const t=td?td.indexOf(e):-1;t>-1&&td.splice(t,1)}}Gl.mirror=Vl,Gl.takeFullSnapshot=function(e){if(!Hl)throw new Error("please take full snapshot after start recording");Hl(e)},(ql=Yl||(Yl={}))[ql.NotStarted=0]="NotStarted",ql[ql.Running=1]="Running",ql[ql.Stopped=2]="Stopped";const rd=new Set([rl.Mutation,rl.StyleSheetRule,rl.StyleDeclaration,rl.AdoptedStyleSheet,rl.CanvasMutation,rl.Selection,rl.MediaInteraction]);class od{constructor(e,t,n=Xl){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=nd(()=>{this._lastMutation=sd()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){return!id.includes(e.tagName)||"INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||"")||!("A"!==e.tagName||!(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))||!(!t||!e.matches(t))}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Zl(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1)||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Zl(e)}registerScroll(e=Date.now()){this._lastScroll=Zl(e)}registerClick(e){const t=Kl(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){const e=[],t=sd();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:i,clickBreadcrumb:s}=e;if(o){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:Oc.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};return void this._addBreadcrumbEvent(t,o)}if(i>1){const e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:Oc.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=fs(()=>this._checkClicks(),1e3)}}const id=["A","BUTTON","INPUT"];function sd(){return Date.now()/1e3}function ad(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(rd.has(n)&&e.registerMutation(t.timestamp),n===rl.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===rl.MouseInteraction}(t)){const{type:n,id:r}=t.data,o=Gl.mirror.getNode(r);o instanceof HTMLElement&&n===ol.Click&&e.registerClick(o)}}catch{}}function cd(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var ud=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(ud||{});const ld=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function dd(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(ld.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const pd=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?Ql(e.event):ed(e.event),n=mt(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}(e);return cd({category:`ui.${e.name}`,...hd(t,n)})}(t);if(!n)return;const r="click"===t.name,o=r?t.event:void 0;var i,s,a;!(r&&e.clickDetector&&o?.target)||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||(i=e.clickDetector,s=n,a=Ql(t.event),i.handleClick(s,a)),Xl(e,n)};function hd(e,t){const n=Gl.mirror.getId(e),r=n&&Gl.mirror.getNode(n),o=r&&Gl.mirror.getMeta(r),i=o&&function(e){return e.type===ud.Element}(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(e=>e.type===ud.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:dd(i.attributes)}}:{}}}function fd(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(s)||!i)return null;const a=t||r||o,c=1===i.length;if(!a&&c)return null;const u=mt(s,{maxStringLength:200})||"<unknown>";return cd({category:"ui.keyDown",message:u,data:{...hd(s,u).data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}(t);n&&Xl(e,n)}const md={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:vd(i),end:vd(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:o}=e,i=vd(o);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:m}=e;return 0===o?null:{type:`${t}.${m}`,start:vd(h),end:vd(i),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:p}}}};function gd(e,t){return({metric:n})=>{t.replayPerformanceEntries.push(e(n))}}function yd(e){const t=md[e.entryType];return t?t(e):null}function vd(e){return((Vt()||Oc.performance.timeOrigin)+e)/1e3}function _d(e){const t=e.entries[e.entries.length-1];return kd(e,"largest-contentful-paint",t?.element?[t.element]:void 0)}function bd(e){return void 0!==e.sources}function Sd(e){const t=[],n=[];for(const r of e.entries)if(bd(r)){const e=[];for(const t of r.sources)if(t.node){n.push(t.node);const r=Gl.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return kd(e,"cumulative-layout-shift",n,t)}function wd(e){const t=e.entries[e.entries.length-1];return kd(e,"interaction-to-next-paint",t?.target?[t.target]:void 0)}function kd(e,t,n,r){const o=e.value,i=e.rating,s=vd(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(e=>Gl.mirror.getId(e)):void 0,attributions:r}}}const Ed="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,xd=["log","warn","error"],Id="[Replay] ";function Td(e,t="info"){ci({category:"console",data:{logger:"replay"},level:t,message:`${Id}${e}`},{level:t})}const Cd=function(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=!!n.captureExceptions,t=!!n.traceInternals}};return Ed?(xd.forEach(e=>{n[e]=(...n)=>{qe[e](Id,...n),t&&Td(n.join(""),ui(e))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),qe.error(Id,r),e?Ao(r):t&&Td(r,"error")},n.infoTick=(...e)=>{qe.log(Id,...e),t&&setTimeout(()=>Td(e[0]),0)}):xd.forEach(e=>{n[e]=()=>{}}),n}();class Md extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Rd{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>Fc)throw new Md;this.events.push(e)}finish(){return new Promise(e=>{const t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(e=>e.timestamp).sort()[0];return e?Jl(e):null}}class Ld{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){Ed&&Cd.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise((r,o)=>{const i=({data:t})=>{const s=t;if(s.method===e&&s.id===n){if(this._worker.removeEventListener("message",i),!s.success)return Ed&&Cd.error("Error in compression worker: ",s.response),void o(new Error("Error in compression worker"));r(s.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class Od{constructor(e){this._worker=new Ld(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=Jl(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Fc?Promise.reject(new Md):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{Ed&&Cd.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class Ad{constructor(e){this._fallback=new Rd,this._compression=new Od(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void(Ed&&Cd.exception(e,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(const t of e)r.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(e){Ed&&Cd.exception(e,"Failed to add events when switching buffers.")}}}function Dd({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||("undefined"!=typeof __SENTRY_EXCLUDE_REPLAY_WORKER__&&__SENTRY_EXCLUDE_REPLAY_WORKER__?"":function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}());if(!t)return;Ed&&Cd.log("Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new Ad(n)}catch(e){Ed&&Cd.exception(e,"Failed to create compression worker")}}(t);if(e)return e}return Ed&&Cd.log("Using simple buffer"),new Rd}function Nd(){try{return"sessionStorage"in Oc&&!!Oc.sessionStorage}catch{return!1}}function Pd(e){!function(){if(Nd())try{Oc.sessionStorage.removeItem(Ac)}catch{}}(),e.session=void 0}function Fd(e){return void 0!==e&&Math.random()<e}function jd(e){if(Nd())try{Oc.sessionStorage.setItem(Ac,JSON.stringify(e))}catch{}}function Bd(e){const t=Date.now();return{id:e.id||Rt(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function $d({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=function(e,t){return Fd(e)?"session":!!t&&"buffer"}(e,t),i=Bd({sampled:o,previousSessionId:r});return n&&jd(i),i}function Wd(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function Ud(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Wd(e.started,t,r)||Wd(e.lastActivity,n,r)}function zd(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!Ud(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function Hd({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const o=r.stickySession&&function(){if(!Nd())return null;try{const e=Oc.sessionStorage.getItem(Ac);if(!e)return null;const t=JSON.parse(e);return Ed&&Cd.infoTick("Loading existing session"),Bd(t)}catch{return null}}();return o?zd(o,{sessionIdleExpire:e,maxReplayDuration:t})?(Ed&&Cd.infoTick("Session in sessionStorage is expired, creating new one..."),$d(r,{previousSessionId:o.id})):o:(Ed&&Cd.infoTick("Creating new session"),$d(r,{previousSessionId:n}))}function Vd(e,t,n){return!!Yd(e,t)&&(Gd(e,t,n),!0)}async function Gd(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const o="buffer"===e.recordingMode;try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=function(e,t){try{if("function"==typeof t&&function(e){return e.type===nl.Custom}(e))return t(e)}catch(e){return Ed&&Cd.exception(e,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!i)return;return await r.addEvent(i)}catch(t){const n=t&&t instanceof Md,i=n?"addEventSizeExceeded":"addEvent";if(n&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(t),await e.stop({reason:i});const s=dn();s&&s.recordDroppedEvent("internal_sdk_error","replay")}}function Yd(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Jl(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now()||n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration&&(Ed&&Cd.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),1))}function qd(e){return!e.type}function Jd(e){return"transaction"===e.type}function Zd(e){return"feedback"===e.type}function Xd(e){return(t,n)=>{if(!e.isEnabled()||!qd(t)&&!Jd(t))return;const r=n?.statusCode;!r||r<200||r>=300||(Jd(t)?function(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),"buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();("function"!=typeof r||r(t))&&fs(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(t){e.handleException(t)}})}(e,t))}}function Kd(e){return t=>{e.isEnabled()&&qd(t)&&function(e,t){const n=t.exception?.values?.[0]?.value;"string"==typeof n&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&Xl(e,cd({category:"replay.hydrate-error",data:{url:yt()}}))}(e,t)}}function Qd(e){const t=dn();t&&t.on("beforeAddBreadcrumb",t=>function(e,t){if(!e.isEnabled()||!ep(t))return;const n=function(e){return!ep(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:"console"===e.category?function(e){const t=e.data?.arguments;if(!Array.isArray(t)||0===t.length)return cd(e);let n=!1;const r=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>Pc?(n=!0,`${e.slice(0,Pc)}â€¦`):e;if("object"==typeof e)try{const t=Lr(e,7);return JSON.stringify(t).length>Pc?(n=!0,`${JSON.stringify(t,null,2).slice(0,Pc)}â€¦`):t}catch{}return e});return cd({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e):cd(e)}(t);n&&Xl(e,n)}(e,t))}function ep(e){return!!e.category}function tp(){const e=cn().getPropagationContext().dsc;e&&delete e.replay_id;const t=Er();t&&delete Rr(t).replay_id}function np(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!qd(t)&&!Jd(t)&&!Zd(t))return t;if(!e.checkAndHandleExpiredSession())return tp(),t;if(Zd(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:nl.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1))}(e,t),t;if(function(e,t){return!(e.type||!e.exception?.values?.length||!t.originalException?.__rrweb__)}(t,n)&&!e.getOptions()._experiments.captureExceptions)return Ed&&Cd.log("Ignoring error from rrweb internals",t),null;const r=function(e,t){return"buffer"===e.recordingMode&&t.message!==Dc&&!(!t.exception||t.type)&&Fd(e.getOptions().errorSampleRate)}(e,t);return(r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t},{id:"Replay"})}function rp(e,t){return t.map(({type:t,start:n,end:r,name:o,data:i})=>{const s=e.throttledAddEvent({type:nl.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:o,startTimestamp:n,endTimestamp:r,data:i}}});return"string"==typeof s?Promise.resolve(null):s})}function op(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(rp(e,[n]),!1)))}}function ip(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!Ed||!e.getOptions()._experiments.traceInternals)&&xc(t,dn())}(e,t.name)||e.addUpdate(()=>(rp(e,[t]),!0)))}function sp(e){if(!e)return;const t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Mc(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ap(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function cp(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function up(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function lp(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function dp(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:i}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>Nc,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,Nc);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}â€¦`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function pp(e,t){return Object.entries(e).reduce((n,[r,o])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function hp(e,t){const n=function(e,t=Oc.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Oc.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}(e);return wt(n,t)}async function fp(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=hp(s,n.networkDetailAllowUrls)&&!hp(s,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?function(e,t){return 1===e.length&&"string"!=typeof e[0]?gp(e[0],t):2===e.length?gp(e[1],t):{}}(n,t):{};if(!e)return dp(o,r,void 0);const i=Lc(n),[s,a]=Rc(i,Cd),c=dp(o,r,s);return a?cp(c,a):c}(n,t.input,u):lp(u),h=await async function(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&void 0!==o)return lp(o);const i=r?mp(r.headers,n):{};if(!r||!t&&void 0!==o)return dp(i,o,void 0);const[s,a]=await async function(e){const t=function(e){try{return e.clone()}catch(e){Ed&&Cd.exception(e,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise((t,n)=>{const r=fs(()=>n(new Error("Timeout while trying to read response body")),500);(async function(e){return await e.text()})(e).then(e=>t(e),e=>n(e)).finally(()=>clearTimeout(r))})}(t);return[e]}catch(e){return e instanceof Error&&e.message.indexOf("Timeout")>-1?(Ed&&Cd.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Ed&&Cd.exception(e,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(r),c=function(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{const i=e?.length&&void 0===n?sp(e):n;return r?dp(o,i,t?e:void 0):lp(i)}catch(e){return Ed&&Cd.exception(e,"Failed to serialize response body"),dp(o,n,void 0)}}(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?cp(c,a):c}(d,n,t.response,l);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:p,response:h}}(e,t,n),o=up("resource.fetch",r);ip(n.replay,o)}catch(e){Ed&&Cd.exception(e,"Failed to capture fetch breadcrumb")}}function mp(e,t){const n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t))}),n}function gp(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?mp(n,t):Array.isArray(n)?{}:pp(n,t):{}}async function yp(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!a||!hp(c,n.networkDetailAllowUrls)||hp(c,n.networkDetailDenyUrls))return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:l,request:lp(d),response:lp(p)};const h=a[wi],f=h?pp(h.request_headers,n.networkRequestHeaders):{},m=pp(function(e){const t=e.getAllResponseHeaders();return t?t.split("\r\n").reduce((e,t)=>{const[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e},{}):{}}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?Rc(s,Cd):[void 0],[v,_]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return Ed&&Cd.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Ed&&Cd.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return Ed&&Cd.warn("Failed to get xhr response body",...t),[void 0]}(a):[void 0],b=dp(f,d,g),S=dp(m,p,v);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:l,request:y?cp(b,y):b,response:_?cp(S,_):S}}(e,t,n),o=up("resource.xhr",r);ip(n.replay,o)}catch(e){Ed&&Cd.exception(e,"Failed to capture xhr breadcrumb")}}function vp(e,t){const{xhr:n,input:r}=t;if(!n)return;const o=sp(r),i=n.getResponseHeader("content-length")?ap(n.getResponseHeader("content-length")):function(e,t){try{return sp("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e)}catch{return}}(n.response,n.responseType);void 0!==o&&(e.data.request_body_size=o),void 0!==i&&(e.data.response_body_size=i)}function _p(e){const t=dn();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(e,t)=>function(e,t,n){if(t.data)try{(function(e){return"xhr"===e.category})(t)&&function(e){return e?.xhr}(n)&&(vp(t,n),yp(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e?.response}(n)&&(function(e,t){const{input:n,response:r}=t,o=sp(n?Lc(n):void 0),i=r?ap(r.headers.get("content-length")):void 0;void 0!==o&&(e.data.request_body_size=o),void 0!==i&&(e.data.response_body_size=i)}(t,n),fp(t,n,e))}catch(e){Ed&&Cd.exception(e,"Error when enriching network breadcrumb")}}(a,e,t))}catch{}}function bp(e){const t=dn();var n;_i(pd(e)),Ii(op(e)),Qd(e),_p(e),n=np(e),un().addEventProcessor(n),t&&(t.on("beforeSendEvent",Kd(e)),t.on("afterSendEvent",Xd(e)),t.on("createDsc",t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)}),t.on("spanStart",t=>{e.lastActiveSpan=t}),t.on("spanEnd",t=>{e.lastActiveSpan=t}),t.on("beforeSendFeedback",async(t,n)=>{const r=e.getSessionId();n?.includeReplay&&e.isEnabled()&&r&&t.contexts?.feedback&&("api"===t.contexts.feedback.source&&await e.flush(),t.contexts.feedback.replay_id=r)}),t.on("openFeedbackWidget",async()=>{await e.flush()}))}function Sp(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function wp(e,t,n){return function(e,t,n){let r,o,i;const s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){void 0!==o&&clearTimeout(o),void 0!==i&&clearTimeout(i),o=i=void 0}function l(){return o&&clearTimeout(o),o=a(c,t),s&&void 0===i&&(i=a(c,s)),r}return l.cancel=u,l.flush=function(){return void 0!==o||void 0!==i?c():r},l}(e,t,{...n,setTimeoutImpl:fs})}const kp=je.navigator;function Ep(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(Ed&&Cd.warn("Received replay event after session expired."));const o=r||!t;t=!0,e.clickDetector&&ad(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&o&&e.setInitialState(),!Vd(e,n,o))return!0;if(!o)return!1;const t=e.session;if(function(e,t){t&&e.session&&0===e.session.segmentId&&Vd(e,function(e){const t=e.getOptions();return{type:nl.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,o),"buffer"===e.recordingMode&&t&&e.eventBuffer){const n=e.eventBuffer.getEarliestTimestamp();n&&(Ed&&Cd.log(`Updating session start time to earliest event in buffer to ${new Date(n)}`),t.started=n,e.getOptions().stickySession&&jd(t))}return t?.previousSessionId||"session"===e.recordingMode&&e.flush(),!0})}}async function xp({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){const s=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=dn(),p=cn(),h=d?.getTransport(),f=d?.getDsn();if(!(d&&h&&f&&i.sampled))return Vr({});const m={type:"replay_event",replay_start_timestamp:l/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){const o={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",r,o);const i=await no(e.getOptions(),r,o,t,e,un());if(!i)return null;e.emit("postprocessEvent",i,o),i.platform=i.platform||"javascript";const s=e.getSdkMetadata(),{name:a,version:c}=s?.sdk||{};return i.sdk={...i.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0"},i}({scope:p,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay"),Ed&&Cd.log("An event processor returned `null`, will not send event."),Vr({});delete g.sdkProcessingMetadata;const y=function(e,t,n,r){return Dr(Hr(e,zr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(g,s,f,d.getOptions().tunnel);let v;try{v=await h.send(y)}catch(e){const t=new Error(Dc);try{t.cause=e}catch{}throw t}if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new Ip(v.statusCode);const _=us({},v);if(cs(_,"replay"))throw new Tp(_);return v}class Ip extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Tp extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function Cp(e,t={count:0,interval:5e3}){const{recordingData:n,onError:r}=e;var o,i;if(n.length)try{return await xp(e),!0}catch(n){if(n instanceof Ip||n instanceof Tp)throw n;if(o="Replays",i={_retryCount:t.count},un().setContext(o,i),r&&r(n),t.count>=3){const e=new Error(`${Dc} - max retries exceeded`);try{e.cause=n}catch{}throw e}return t.interval*=++t.count,new Promise((n,r)=>{fs(async()=>{try{await Cp(e,t),n(!0)}catch(e){r(e)}},t.interval)})}}const Mp="__THROTTLED";function Rp(e,t,n){const r=new Map;let o=!1;return(...i)=>{const s=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach((e,n)=>{n<t&&r.delete(n)})})(s),[...r.values()].reduce((e,t)=>e+t,0)>=t){const e=o;return o=!0,e?"__SKIPPED":Mp}o=!1;const a=r.get(s)||0;return r.set(s,a+1),e(...i)}}class Lp{constructor({options:e,recordingOptions:t}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=wp(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Rp((e,t)=>function(e,t,n){return Yd(e,t)?Gd(e,t,n):Promise.resolve(null)}(this,e,t),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),o=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(o&&(this.clickDetector=new od(this,o)),Ed){const t=e._experiments;Cd.setConfig({captureExceptions:!!t.captureExceptions,traceInternals:!!t.traceInternals})}this._handleVisibilityChange=()=>{"visible"===Oc.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const e=cd({category:"ui.blur"});this._doChangeToBackgroundTasks(e)},this._handleWindowFocus=()=>{const e=cd({category:"ui.focus"});this._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=e=>{fd(this,e)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(e){Ed&&Cd.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Ed&&Cd.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):Ed&&Cd.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(Ed&&Cd.log("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(Ed&&Cd.log("Buffering is in progress, call `flush()` to save the replay"));Ed&&Cd.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=Hd({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(Ed&&Cd.log("Buffering is in progress, call `flush()` to save the replay"));Ed&&Cd.infoTick("Starting replay in buffer mode");const e=Hd({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Gl({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Ep(this),.../iPhone|iPad|iPod/i.test(kp?.userAgent??"")||/Macintosh/i.test(kp?.userAgent??"")&&kp?.maxTouchPoints&&kp?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{Ed&&Cd.log("Stopping Replay"+(t?` triggered by ${t}`:"")),tp(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,Pd(this)}catch(e){this.handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ed&&Cd.log("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),Ed&&Cd.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();Ed&&Cd.log("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&Wd(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${Oc.location.pathname}${Oc.location.hash}${Oc.location.search}`,t=`${Oc.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===Mp){const e=cd({category:"replay.throttled"});this.addUpdate(()=>!Vd(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return n}getCurrentRoute(){const e=this.lastActiveSpan||Er(),t=e&&kr(e),n=(t&&gr(t).data||{})[On];if(t&&n&&["route","custom"].includes(n))return gr(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Dd({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=Hd({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!zd(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Oc.document.addEventListener("visibilitychange",this._handleVisibilityChange),Oc.addEventListener("blur",this._handleWindowBlur),Oc.addEventListener("focus",this._handleWindowFocus),Oc.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(bp(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(e=>{r.push(ka(e,n))}),r.push(Sa(gd(_d,e)),ba(gd(Sd,e)),wa(gd(wd,e))),()=>{r.forEach(e=>e())}}(this)}_removeListeners(){try{Oc.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Oc.removeEventListener("blur",this._handleWindowBlur),Oc.removeEventListener("focus",this._handleWindowFocus),Oc.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){this.session&&(Ud(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush()))}_doChangeToForegroundTasks(e){this.session&&(this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):Ed&&Cd.log("Document has become active, but session has expired"))}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:nl.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=(t=this.performanceEntries,t.map(yd).filter(Boolean)).concat(this.replayPerformanceEntries);var t;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter(e=>e.start>=t)}return Promise.all(rp(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer?.hasEvents&&(await async function(e){try{return Promise.all(rp(e,[Sp(Oc.performance.memory)]))}catch{return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Cp({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:e=>this.handleException(e)})}catch(e){this.handleException(e),this.stop({reason:"sendReplay"});const t=dn();if(t){const n=e instanceof Tp?"ratelimit_backoff":"send_error";t.recordDroppedEvent(n,"replay")}}}else Ed&&Cd.error("No session or eventBuffer found to flush.")}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(Ed&&Cd.error("Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o)return Ed&&Cd.log(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());const i=this.eventBuffer;i&&0===this.session.segmentId&&!i.hasCheckout&&Ed&&Cd.log("Flushing initial segment without checkout.");const s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(e){this.handleException(e)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&jd(this.session)}_onMutationHandler(e){const{ignoreMutations:t}=this._options._experiments;if(t?.length&&e.some(e=>{const n=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}(e.target),r=t.join(",");return n?.matches(r)}))return!1;const n=e.length,r=this._options.mutationLimit,o=r&&n>r;if(n>this._options.mutationBreadcrumbLimit||o){const e=cd({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(e)}return!o||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function Op(e,t){return[...e,...t].join(",")}const Ap='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Dp=["content-length","content-type","accept"];let Np=!1;class Pp{constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:o=!0,useCompression:i=!0,workerUrl:s,_experiments:a={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:d=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:v=[],networkResponseHeaders:_=[],mask:b=[],maskAttributes:S=["title","placeholder","aria-label"],unmask:w=[],block:k=[],unblock:E=[],ignore:x=[],maskFn:I,beforeAddRecordingEvent:T,beforeErrorSampling:C,onError:M}={}){this.name="Replay";const R=function({mask:e,unmask:t,block:n,unblock:r,ignore:o}){return{maskTextSelector:Op(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Op(t,[]),blockSelector:Op(n,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:Op(r,[]),ignoreSelector:Op(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:b,unmask:w,block:k,unblock:E,ignore:x});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return r?o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i:i}({maskAttributes:S,maskAllText:c,privacyOptions:R,key:e,value:t,el:n}),...R,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch{}},recordCrossOriginIframes:Boolean(a.recordCrossOriginIframes)},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,jc),stickySession:o,useCompression:i,workerUrl:s,blockAllMedia:l,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:d,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:f,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:Fp(v),networkResponseHeaders:Fp(_),beforeAddRecordingEvent:T,beforeErrorSampling:C,onError:M,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Ap}`:Ap),this._isInitialized&&Cc())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Np}set _isInitialized(e){Np=e}afterAllSetup(e){Cc()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const t=function(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=sr(n.replaysSessionSampleRate),i=sr(n.replaysOnErrorSampleRate);return null==o&&null==i&&He(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=o&&(r.sessionSampleRate=o),null!=i&&(r.errorSampleRate=i),r}(this._initialOptions,e);this._replay=new Lp({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch{}}}function Fp(e){return[...Dp,...e.map(e=>e.toLowerCase())]}var jp={dsn:"https://0ac03fb045f36557604f8ce38e169187@sentry.devops.smartech.ir/6",environment:"production",tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,debug:!1,release:"1.0.39",sendDefaultPii:!0,tracePropagationTargets:["localhost",/^https:\/\/api-dauid\.digities\.io/],defaultTags:{sdk:"dauid",version:"1.0.39"}},Bp=function(){function e(){this.initialized=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.init=function(e,t){var n;void 0===t&&(t="production"),this.initialized||(function(e={}){const t=!e.skipBrowserExtensionCheck&&gs(),n={...e,enabled:!t&&e.enabled,stackParser:(r=e.stackParser||os,Array.isArray(r)?_n(...r):r),integrations:Ze({integrations:e.integrations,defaultIntegrations:null==e.defaultIntegrations?[jt(),mn(),Oi(),Ri(),zi(),Xi(),En(),Gi(),Pi()]:e.defaultIntegrations}),transport:e.transport||ms};var r;Cn(Vo,n)}({dsn:e,environment:t,debug:"development"===t,release:jp.release,sendDefaultPii:jp.sendDefaultPii,integrations:[_c(),new Pp(n)],tracesSampleRate:jp.tracesSampleRate,tracePropagationTargets:jp.tracePropagationTargets,replaysSessionSampleRate:jp.replaysSessionSampleRate,replaysOnErrorSampleRate:jp.replaysOnErrorSampleRate}),this.captureConsoleErrors(),this.initialized=!0)},e.prototype.captureConsoleErrors=function(){var e=console.error;console.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.apply(console,t),Do(t.map(function(e){return"object"==typeof e?JSON.stringify(e):String(e)}).join(" "),{level:"error",tags:{source:"console.error"}})}},e.prototype.captureError=function(e,t){this.initialized&&Ao(e,{extra:t})},e.prototype.captureMessage=function(e,t,n){void 0===t&&(t="info"),this.initialized&&Do(e,{level:t,extra:n})},e.prototype.setUser=function(e){this.initialized&&function(e){un().setUser(e)}(e)},e.prototype.setTag=function(e,t){this.initialized&&function(e,t){un().setTag(e,t)}(e,t)},e}(),$p=Bp,Wp=function(){return Wp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wp.apply(this,arguments)},Up=function(){function e(){this.API_ENDPOINTS={stage:{base:"https://api-dauid.digities.tech",iframe:"https://dauid.digities.tech"},production:{base:"https://api-dauid.digities.io",iframe:"https://dauid.digities.tech"}},this.config={environment:"production"}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.configure=function(e){this.config=Wp(Wp({},this.config),e)},e.prototype.getApiUrl=function(){if(this.config.customApiUrl)return this.config.customApiUrl;var e=this.config.environment||"production";return this.API_ENDPOINTS[e].base},e.prototype.getIframeUrl=function(){var e=this.config.environment||"production";return this.API_ENDPOINTS[e].iframe},e.prototype.getEnvironment=function(){return this.config.environment||"production"},e.prototype.getConfig=function(){return Wp({},this.config)},e}(),zp=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},Hp=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Vp=function(){function e(e){var t=this;this.iframe=null,this.iframeLoaded=!1,this.dauid=null,this.initialized=!1,this.iframeTimeout=null,this.deviceInfoCache=null,this.cachedFingerprint=null,this.configService=Up.getInstance(),e&&this.configService.configure(e),this.fingerprint=new Ne,this.deviceInfoCache=this.getDeviceInfo(),this.fingerprint.getOrCreateFingerprintId().then(function(e){t.cachedFingerprint=e}),this.quickIframeCheck(),this.initSentry()}return e.prototype.quickIframeCheck=function(){return zp(this,void 0,void 0,function(){return Hp(this,function(e){return this.initIframe(),[2]})})},e.prototype.initSentry=function(){var e=$p.getInstance();e.init("https://0ac03fb045f36557604f8ce38e169187@sentry.devops.smartech.ir/6","production"),this.dauid&&e.setUser({id:this.dauid}),e.setTag("sdk","dauid"),e.setTag("version","1.0.39")},e.prototype.initIframe=function(){var e=this;try{this.iframe=document.createElement("iframe"),this.iframe.style.display="none",this.iframe.src="".concat(this.configService.getIframeUrl(),"/iframe.html"),this.iframe.onload=function(){e.iframeLoaded=!0,e.requestDauid()},this.iframe.onerror=function(){console.error("Iframe failed to load, using fallback"),$p.getInstance().captureMessage("Iframe failed to load, using fallback","warning"),e.useFallback()},document.body.appendChild(this.iframe),window.addEventListener("message",this.handleMessage.bind(this)),this.iframeTimeout=setTimeout(function(){e.initialized||(console.log("Iframe timeout, switching to fingerprint"),e.useFallback())},200)}catch(e){console.error("Error initializing iframe:",e),$p.getInstance().captureError(e,{context:"iframe_initialization"}),this.useFallback()}},e.prototype.useFallback=function(){return zp(this,void 0,void 0,function(){var e;return Hp(this,function(t){switch(t.label){case 0:return(e=window.localStorage.getItem("dauid"))?(this.dauid=e,this.initialized=!0,this.syncCookies(e),$p.getInstance().setUser({id:e}),[2]):[4,this.generateNewDauid()];case 1:return t.sent(),[2]}})})},e.prototype.getDeviceInfo=function(){if(this.deviceInfoCache)return this.deviceInfoCache;var e,t=navigator.userAgent,n=navigator.platform||"Unknown",r=/Mobi|Android/i.test(t)?"Mobile":"Desktop",o=(e=t).includes("Chrome")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")&&!e.includes("Chrome")?"Safari":e.includes("Edge")?"Edge":"Unknown";return this.deviceInfoCache={userAgent:t,platform:n,deviceType:r,browserInfo:o,screenWidth:window.screen.width,screenHeight:window.screen.height,language:navigator.language,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},this.deviceInfoCache},e.prototype.generateNewDauid=function(){return zp(this,void 0,void 0,function(){var e,t,n,r,o,i;return Hp(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),e=this.deviceInfoCache,(t=this.cachedFingerprint)?[3,2]:[4,this.fingerprint.getOrCreateFingerprintId()];case 1:t=s.sent(),this.cachedFingerprint=t,s.label=2;case 2:return n={fingerprint:t,source:"FINGERPRINT",sdk_version:"1.0.39",device_detail:{screenWidth:e.screenWidth,screenHeight:e.screenHeight,language:e.language,timeZone:e.timeZone,deviceType:e.deviceType,deviceOs:e.platform,userAgent:e.userAgent,browserInfo:e.browserInfo}},[4,fetch("".concat(this.configService.getApiUrl(),"/api/v1/generate-new-id"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 3:if(!(r=s.sent()).ok)throw new Error("Backend error");return[4,r.json()];case 4:return(o=s.sent()).dauid&&"string"==typeof o.dauid&&(this.dauid=o.dauid,this.dauid&&(window.localStorage.setItem("dauid",this.dauid),this.setCookie("dauid",this.dauid,30)),this.initialized=!0,this.dauid&&this.syncCookies(this.dauid)),[3,6];case 5:return i=s.sent(),console.error("Failed to generate DAUID:",i),$p.getInstance().captureError(i,{context:"dauid_generation"}),[3,6];case 6:return[2]}})})},e.prototype.handleMessage=function(e){var t=this;if(e.origin===this.configService.getApiUrl()||e.origin===window.location.origin||e.origin.startsWith("http")){var n=e.data;"requestFpDauid"!==n.type?"DauidResponse"===n.type&&(this.dauid=n.value,this.initialized=!0,this.iframeTimeout&&(clearTimeout(this.iframeTimeout),this.iframeTimeout=null),this.dauid&&(this.setCookie("dauid",this.dauid,30),window.localStorage.setItem("dauid",this.dauid),$p.getInstance().setUser({id:this.dauid}),this.syncCookies(this.dauid))):this.cachedFingerprint?e.source&&e.source.postMessage({type:"fpDauidResponse",value:this.cachedFingerprint},e.origin):this.fingerprint.getOrCreateFingerprintId().then(function(n){t.cachedFingerprint=n,e.source&&e.source.postMessage({type:"fpDauidResponse",value:n},e.origin)})}},e.prototype.setCookie=function(e,t,n){void 0===n&&(n=30);var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),document.cookie="".concat(e,"=").concat(t,";expires=").concat(r.toUTCString(),";path=/")},e.prototype.syncCookies=function(e){console.log("Starting cookie sync for dauid:",e),this.syncYektanetCookie(e),this.syncMediaAdCookie(e)},e.prototype.syncYektanetCookie=function(e){if(document.getElementById("yektanet-cookie-sync-img"))console.log("Yektanet cookie sync already exists");else{console.log("Syncing Yektanet cookie with dauid:",e);var t=document.createElement("img");t.id="yektanet-cookie-sync-img",t.src="https://biscotti.yektanet.com/pixel?id=".concat(encodeURIComponent(e)),t.style.display="none",t.onerror=function(){console.error("Failed to sync Yektanet cookie"),$p.getInstance().captureMessage("Yektanet cookie sync failed","error")},t.onload=function(){console.log("Yektanet cookie synced successfully")},document.body.appendChild(t)}},e.prototype.syncMediaAdCookie=function(e){var t=this;if(!document.getElementById("mediaad-cookie-sync-iframe")){var n=document.createElement("iframe");n.id="mediaad-cookie-sync-iframe",n.src="https://mediacdn.mediaad.org/static/fingerprint.html",n.style.display="none",document.body.appendChild(n);var r=function(e){if("https://mediacdn.mediaad.org"===e.origin){var n=e.data;if("string"==typeof n&&0===n.indexOf("mediaad-fid:")){var o=n.split(":")[1];o&&t.sendBackendCookieSync({ma_uid:o,yn_uid:"",dk_uid:""}),window.removeEventListener("message",r)}}};window.addEventListener("message",r)}setTimeout(function(){t.tryMediaAdPixelMethod()},5e3)},e.prototype.tryMediaAdPixelMethod=function(){var e=this,t=document.createElement("img");t.src="https://mediacdn.mediaad.org/pixel?callback=1",t.style.display="none",t.onload=function(){e.checkAlternativeMediaAdMethods()},t.onerror=function(){e.checkAlternativeMediaAdMethods()},document.body.appendChild(t)},e.prototype.checkAlternativeMediaAdMethods=function(){for(var e=0,t=Object.keys(localStorage);e<t.length;e++)if(((o=t[e]).toLowerCase().includes("mediaad")||o.toLowerCase().includes("ma_"))&&(i=localStorage.getItem(o)))return void this.sendBackendCookieSync({ma_uid:i,yn_uid:"",dk_uid:""});for(var n=0,r=Object.keys(sessionStorage);n<r.length;n++){var o,i;if(((o=r[n]).toLowerCase().includes("mediaad")||o.toLowerCase().includes("ma_"))&&(i=sessionStorage.getItem(o)))return void this.sendBackendCookieSync({ma_uid:i,yn_uid:"",dk_uid:""})}},e.prototype.sendBackendCookieSync=function(e){return zp(this,void 0,void 0,function(){var t,n;return Hp(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t={dauid:this.dauid,ma_uid:e.ma_uid,yn_uid:e.yn_uid,dk_uid:e.dk_uid},[4,fetch("".concat(this.configService.getApiUrl(),"/api/v1/ma-cookie-sync"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return r.sent().ok,[3,3];case 2:return n=r.sent(),console.error("Media Ad cookie sync failed:",n),$p.getInstance().captureError(n,{context:"media_ad_cookie_sync"}),[3,3];case 3:return[2]}})})},e.prototype.requestDauid=function(){var e;if(this.iframeLoaded&&this.iframe)try{null===(e=this.iframe.contentWindow)||void 0===e||e.postMessage({type:"checkDauid"},this.configService.getIframeUrl())}catch(e){console.error("Error requesting DAUID:",e),$p.getInstance().captureError(e,{context:"dauid_request"})}},e.getInstance=function(t){return e.instance?t&&e.instance.configService.configure(t):e.instance=new e(t),e.instance},e.prototype.isInitialized=function(){return this.initialized},e.prototype.getDauid=function(){return this.dauid},e.prototype.getFpDauid=function(){return zp(this,void 0,Promise,function(){return Hp(this,function(e){switch(e.label){case 0:return[4,this.fingerprint.getOrCreateFingerprintId()];case 1:return[2,e.sent()]}})})},e.prototype.init=function(){return zp(this,void 0,Promise,function(){return Hp(this,function(e){switch(e.label){case 0:return[4,this.fingerprint.getOrCreateFingerprintId()];case 1:return e.sent(),setTimeout(function(){window.postMessage({type:"testMessage",value:"test"},"*")},1e3),[2]}})})},e.prototype.configure=function(e){this.configService.configure(e)},e.prototype.getEnvironment=function(){return this.configService.getEnvironment()},e}();"undefined"!=typeof window&&(window.Dauid=Vp,window.init_dauid=function(e){return window.Dauid.getInstance(e)},window.get_dauid=function(){try{return window.Dauid.getInstance().getDauid()}catch(e){return null}},window.get_fp_dauid=function(){return zp(this,void 0,void 0,function(){return Hp(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,window.Dauid.getInstance().getFpDauid()];case 1:return[2,e.sent()];case 2:return e.sent(),[2,null];case 3:return[2]}})})});var Gp=Vp;return t.default}()},351:(e,t)=>{function n(e={}){function t(e,t,n){var r=JSON.stringify({...t||{},uid:window?.get_dauid?.()});if(_.enableBeacon&&navigator&&navigator.sendBeacon){var o=new Blob([r],{type:"application/json"}),i=navigator.sendBeacon(e,o);n&&n.callback&&n.callback({status:i?200:0})}else window.fetch&&fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},keepalive:!0,body:r}).then(function(e){n&&n.callback&&n.callback({status:e.status})}).catch(function(e){n&&n.callback&&n.callback({error:e})})}function r(){var e=i();if(!f&&(k<g||e>=3e3)){k=g;var n={n:"engagement",sd:Math.round(g/m*100),d:_.domain,u:S,p:w,e,v:22};E=0,x=0,t(_.endpoint,n)}}function o(){"visible"===document.visibilityState&&document.hasFocus()&&0===E?E=Date.now():"hidden"!==document.visibilityState&&document.hasFocus()||(x=i(),E=0,r())}function i(){return E?x+(Date.now()-E):x}function s(){var e=document.body||{},t=document.documentElement||{};return Math.max(e.scrollHeight||0,e.offsetHeight||0,e.clientHeight||0,t.scrollHeight||0,t.offsetHeight||0,t.clientHeight||0)}function a(){var e=document.body||{},t=document.documentElement||{},n=window.innerHeight||t.clientHeight||0,r=window.scrollY||t.scrollTop||e.scrollTop||0;return m<=n?m:r+n}function c(e,n){var i="pageview"===e;if(i&&b&&(r(),m=s(),g=a()),!_.enableLocalhost&&(/^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(y.hostname)||"file:"===y.protocol))return u(e,n,"localhost");if((window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)&&!window.__webanalytics)return u(e,n);try{if("true"===window.localStorage.__webanalytics_ignore)return u(e,n,"localStorage flag")}catch(e){}var c={n:e,v:22,u:y.href,d:_.domain,r:v.referrer||null};n&&n.meta&&(c.m=JSON.stringify(n.meta)),n&&n.props&&(c.p=n.props),n&&!1===n.interactive&&(c.i=!1),i&&(f=!1,S=c.u,w=c.p,k=-1,x=0,E=Date.now(),b||(document.addEventListener("visibilitychange",o),window.addEventListener("blur",o),window.addEventListener("focus",o),b=!0)),t(_.endpoint,c,n)}function u(e,t,n){n&&_.logging&&console.warn("Ignoring Event: "+n),t&&t.callback&&t.callback(),"pageview"===e&&(f=!0)}function l(e){return e&&e.tagName&&"a"===e.tagName.toLowerCase()}function d(e){if("auxclick"!==e.type||1===e.button){var t=function(e){for(;e&&(void 0===e.tagName||!l(e)||!e.href);)e=e.parentNode;return e}(e.target);t&&t.href&&t.href.split("?")[0],function e(t,n){return!!t&&!(n>3)&&(!!p(t)||e(t.parentNode,n+1))}(t,0)}}function p(e){var t=e&&e.classList;if(t)for(var n=0;n<t.length;n++)if(t.item(n).match(/__webanalytics-event-name(=|--)(.+)/))return!0;return!1}function h(e){var t=p(e)?e:e&&e.parentNode,n={name:null,props:{}},r=t&&t.classList;if(!r)return n;for(var o=0;o<r.length;o++){var i,s,a=r.item(o).match(/__webanalytics-event-(.+)(=|--)(.+)/);a&&(i=a[1],s=a[3].replace(/\+/g," "),"name"==i.toLowerCase()?n.name=s:n.props[i]=s)}return n}var f,m,g,y=window.location,v=window.document;D="undefined"!=typeof document&&document.currentScript?document.currentScript:{getAttribute:function(e){return null},src:e.src||""};var _={},b=!1,S=location.href,w={},k=-1,E=0,x=0,I=e.endpoint||e.api,T=e.domain,C=void 0!==e.enableLocalhost&&e.enableLocalhost,M=void 0!==e.enableBeacon&&e.enableBeacon,R=void 0!==e.enableInspector&&e.enableInspector,L=void 0!==e.enableFileDownloads&&e.enableFileDownloads;_.endpoint=I||(D.src?new URL(D.src).origin+"/api/event":"/api/event"),_.domain=T,_.logging=void 0===e.logging||e.logging,_.enableLocalhost=C,_.enableBeacon=M,m=s(),g=a(),window.addEventListener("load",function(){m=s();var e=0,t=setInterval(function(){m=s(),15==++e&&clearInterval(t)},200)}),document.addEventListener("scroll",function(){m=s();var e=a();e>g&&(g=e)}),function(e){function t(t){t&&r===y.pathname||(r=y.pathname,e("pageview"))}function n(){t(!0)}var r,o=window.history;if(o.pushState){var i=o.pushState;o.pushState=function(){i.apply(this,arguments),n()},window.addEventListener("popstate",n)}"hidden"===v.visibilityState||"prerender"===v.visibilityState?v.addEventListener("visibilitychange",function(){r||"visible"!==v.visibilityState||t()}):t(),window.addEventListener("pageshow",function(e){e.persisted&&t()})}(c),function(){function e(e){if("auxclick"!==e.type||1===e.button){for(var t,n,r=e.target,o=0;o<=3&&r;o++){if((i=r)&&i.tagName&&"form"===i.tagName.toLowerCase())return;l(r)&&(t=r),p(r)&&(n=r),r=r.parentNode}if(n){var i,s,a=h(n);if(t)a.props.url=t.href,s={props:a.props},c(a.name,s);else{var u={props:a.props};c(a.name,u)}}}}function t(e){if("auxclick"!==e.type||1===e.button){var t=function(e){for(;e&&(void 0===e.tagName||!l(e)||!e.href);)e=e.parentNode;return e}(e.target);if(t&&t.href&&function(e){return!!e&&/\.(pdf|doc|docx|xls|xlsx|ppt|pptx|zip|rar|7z|tar|gz|mp3|mp4|avi|mov|wmv|flv|wav|jpg|jpeg|png|gif|svg|ico|txt|csv|json|xml|sql|exe|dmg|deb|rpm|apk|ipa)(\?|#|$)/i.test(e)}(t.href)){var n=new URL(t.href,window.location.href).pathname.split("/").pop()||"unknown",r=n.split(".").pop()||"unknown";c("file_download",{props:{file_name:n,file_extension:r,file_url:t.href,link_text:t.textContent||t.innerText||""}})}}}v.addEventListener("click",d),v.addEventListener("auxclick",d),L&&(v.addEventListener("click",t),v.addEventListener("auxclick",t)),v.addEventListener("submit",function(e){var t,n=h(e.target);n.name&&(t={props:n.props},c(n.name,t))}),v.addEventListener("click",e),v.addEventListener("auxclick",e)}();for(var O=window.__webanalytics&&window.__webanalytics.q||[],A=0;A<O.length;A++)c.apply(this,O[A]);window.__webanalytics=c,window.__webanalytics.init=n,window.__webanalytics.l=!0;var D,N=new WeakSet;function P(e){if(!e||0===e.length)return!0;var t=window.location.pathname;return e.some(function(e){var n=e.path;switch(e.operator||"equals"){case"equals":return t===n;case"starts_with":return t.startsWith(n);case"ends_with":return t.endsWith(n);case"contains":return t.includes(n);default:return!1}})}function F(e,t){if("css"===t)return document.querySelectorAll(e);if("element_text"===t){for(var n=document.querySelectorAll("*"),r=[],o=0;o<n.length;o++){var i=n[o];i.textContent&&i.textContent.trim()===e&&r.push(i)}return r}return[]}function j(e){if(!e||0===e.length)return{};var t={};return e.forEach(function(e){var n=F(e.selector,e.selector_type||"css");if(n.length>0){var r=n[0],o=r.textContent||r.value||"";t[e.name]=o.trim()}}),t}function B(e,t){if(!N.has(e)){var n=!1;setTimeout(r,100),window.addEventListener("scroll",r),window.addEventListener("resize",r)}function r(){if(!n&&(i=e.getBoundingClientRect(),s=Math.max(document.documentElement.clientHeight,window.innerHeight),a=Math.max(document.documentElement.clientWidth,window.innerWidth),u=(Math.min(i.bottom,s)-Math.max(i.top,0))*(Math.min(i.right,a)-Math.max(i.left,0)),((l=i.height*i.width)>0?u/l:0)>=(t.visibility_threshold||.5))&&!N.has(e)){n=!0,N.add(e);var o=j(t.attributes);o.element_text=e.textContent?e.textContent.substring(0,100):"",c(t.name,{props:o}),window.removeEventListener("scroll",r),window.removeEventListener("resize",r)}var i,s,a,u,l}}(window.__webanalytics_events&&(_.logging&&console.log("[SDK] Found custom events configuration:",window.__webanalytics_events),function(){var e=window.__webanalytics_events;if(!e.events||!Array.isArray(e.events))return;e.events.forEach(function(e){!function(e){var t=e.type,n=e.name;_.logging&&console.log("[SDK] Setting up event:",n,"type:",t);if("page_view"===t){if(P(e.paths)){var r=j(e.attributes);c(n,{props:r})}var o=history.pushState;history.pushState=function(){o.apply(this,arguments),setTimeout(function(){if(P(e.paths)){var t=j(e.attributes);c(n,{props:t})}},0)},window.addEventListener("popstate",function(){if(P(e.paths)){var t=j(e.attributes);c(n,{props:t})}})}else"visibility_change"===t?function(e){_.logging&&console.log("[SDK] Setting up visibility tracking for:",e.name,"selector:",e.selector);var t=e.visibility_threshold||.5,n=null;window.IntersectionObserver&&(n=new IntersectionObserver(function(r){r.forEach(function(r){if(r.isIntersecting&&r.intersectionRatio>=t&&!N.has(r.target)){if(_.logging&&console.log("[SDK] Element became visible:",e.name,"ratio:",r.intersectionRatio),!P(e.paths))return;N.add(r.target);var o=j(e.attributes);o.visibility_ratio=Math.round(100*r.intersectionRatio),o.element_text=r.target.textContent?r.target.textContent.substring(0,100):"",c(e.name,{props:o}),n.unobserve(r.target)}else!r.isIntersecting&&N.has(r.target)&&n.unobserve(r.target)})},{threshold:t,rootMargin:e.root_margin||"0px"}));function r(){if(P(e.paths)){var t=F(e.selector,e.selector_type||"css");_.logging&&console.log("[SDK] Found",t.length,"elements to observe for:",e.name);for(var r=0;r<t.length;r++)n&&!N.has(t[r])?(n.observe(t[r]),_.logging&&console.log("[SDK] Started observing element:",t[r])):n||N.has(t[r])||B(t[r],e)}else _.logging&&console.log("[SDK] Path does not match for visibility tracking:",e.name)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r();var o=history.pushState;history.pushState=function(){o.apply(this,arguments),setTimeout(r,100)},window.addEventListener("popstate",function(){setTimeout(r,100)}),e.recheck_interval&&setInterval(r,e.recheck_interval)}(e):"element_click"!==t&&"form_submit"!==t||document.addEventListener(t,function(t){if(P(e.paths)){for(var r=F(e.selector,e.selector_type||"css"),o=!1,i=0;i<r.length;i++)if(r[i].contains(t.target)||r[i]===t.target){o=!0;break}if(o){var s=j(e.attributes);c(n,{props:s})}}})}(e)})}(),window.__webanalytics_events.captureJavascriptErrors&&function(){_.logging&&console.log("[SDK] Setting up JavaScript error capturing");window.addEventListener("error",function(e){var t={props:{error_message:e.message||"Unknown error",error_filename:e.filename||"Unknown",error_line:e.lineno||0,error_column:e.colno||0,error_stack:e.error&&e.error.stack?e.error.stack:"No stack trace available",error_type:e.error&&e.error.name?e.error.name:"Error",page_url:window.location.href,user_agent:navigator.userAgent,timestamp:(new Date).toISOString()}};_.logging&&console.log("[SDK] Captured JavaScript error:",t),c("javascript_error",t)}),window.addEventListener("unhandledrejection",function(e){var t=e.reason,n="Unhandled Promise Rejection",r="";if(t)if("string"==typeof t)n=t;else if(t instanceof Error)n=t.message||n,r=t.stack||"";else if("object"==typeof t)try{n=JSON.stringify(t)}catch(e){n=String(t)}var o={props:{error_message:n,error_type:"UnhandledRejection",error_stack:r,promise_reason:String(t),page_url:window.location.href,user_agent:navigator.userAgent,timestamp:(new Date).toISOString()}};_.logging&&console.log("[SDK] Captured unhandled promise rejection:",o),c("javascript_error",o)}),_.logging&&console.log("[SDK] JavaScript error capturing setup complete")}()),R)&&(new URLSearchParams(window.location.search).has("enable-webanalytics-inspector")&&((D=document.createElement("script")).src="https://cdn.jsdelivr.net/npm/inspector-toolbar-sdk@latest/site/inspector-toolbar.js",D.onload=function(){if("function"==typeof window.InspectorToolbar){new InspectorToolbar({}).init().show()}},document.head.appendChild(D)));return{track:c,__webanalytics:c,init:n,domain:_.domain,endpoint:_.endpoint,enableBeacon:_.enableBeacon,runTest:window.runTest}}e.exports?e.exports=n:t.initSDK=n,"undefined"!=typeof window&&(window.__webAnalyticsSDK=n)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r);var e=n(19),t=n.n(e),o=n(351),i=n.n(o);const s=document?.currentScript,a=s?.dataset?.enableLocalhost,c=s?.dataset?.api,u=s?.dataset?.domain,l=s?.dataset?.enableBeacon,d=s?.dataset?.enableInspector,p=s?.dataset?.isStage,h=p?t()?.getInstance?.({environment:"stage"}):t()?.getInstance?.();h?.init?.(),console.log("Dauid instance:",h);var f=setInterval(function(){window?.get_dauid&&window?.get_dauid?.()&&(clearInterval(f),i()({endpoint:c,api:c,domain:u,enableLocalhost:!!a,enableBeacon:!!l,enableInspector:!!d}))},1e3)})(),r})());
 </script>
</body>
</html>
